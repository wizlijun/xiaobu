# AI 时代的结对编程：实践演进与团队协作

结对编程一直是两个人协同工作以产出更好软件和更优秀开发者的实践。现在其中一个"人"可能是 AI，但根本目标没有变。本文梳理传统结对编程的价值、AI 编码助手作为"结对伙伴"的优劣、团队动态的变化、新兴协作模式，以及工程团队的实际适应策略。

## 传统结对编程的原则与价值

结对编程是一种历史悠久的实践：两名开发者在同一工作站实时协作。通常一人担任 driver（驾驶员，负责实际编码），另一人担任 navigator（领航员，审查每个变更，从战略角度思考问题和方向）。

这种双重视角相当于即时代码审查：两人一起发现错误、考虑替代方案、产出更干净的代码。早期计算先驱 Jean Bartik 说过：

> 结对工作时，你们可以互相批评、发现彼此的错误、采用最好的想法。

### 核心价值驱动

- **实时质量控制**：两双眼睛盯着同一个问题，互补的技能组合提升问题解决能力
- **知识共享**：junior 与 senior 结对不仅更快学习代码库，还能通过持续对话吸收编码习惯和隐性最佳实践
- **集体代码所有权**：两人很少同时分心，保持专注，鼓励沟通、共情和团队合作

传统结对编程不仅仅是写代码——它是两个头脑合为一体，产出更好的设计、更少的 bug、团队内的共同理解。

## AI 编码助手作为"结对伙伴"

随着 GitHub Copilot、Amazon CodeWhisperer、Sourcegraph Cody 等 AI 编码助手兴起，开发者现在在编辑器里有了一个永远在场的人工"伙伴"。GitHub 明确将 Copilot 定位为"你的 AI 结对程序员"。

这些 AI 助手使用在海量代码库上训练的大语言模型来建议下一行代码、补全函数，甚至根据上下文生成整个模块。

### 角色动态切换

在实践中，AI 结对伙伴可以接管部分 driver 角色：它以极快的速度写出代码建议，而人类像 navigator 一样审查 AI 的输出并决定接受或拒绝。

角色可以动态翻转：
- 有时开发者保持 driver 角色，写代码并只用 AI 获取提示（AI 像沉默的 navigator）
- 有时 AI 坐上 driver 位置——特别是当你要求它生成代码块或解决子问题时——人类退后一步评估和引导

这种互动类似传统结对的战术 vs 战略分工：AI 处理快速的战术编码建议，人类专注于更高层次的推理和验证。GitHub 对未来 Copilot 版本的愿景包括 agent mode，AI 在人类监督下自主执行多步骤编码任务——本质上是"快进版结对编程"。

### AI 结对的优势

- **不知疲倦且博闻强识**：AI 助手"见过"数百万编码示例，能浮现人类可能忽略的解决方案、边界情况或优化
- **擅长样板和重复任务**：人类结对通常要费力的繁琐代码，AI 几秒就能产出
- **让人类保持心流**：减少停下来搜索文档或 StackOverflow 的需要
- **显著提升生产力**：调查和案例研究发现使用 Copilot 等工具可提速约 30-55%

AI 结对就像一个热情的 junior 开发者，记住了整个互联网并且随时可用。

### AI 结对的不足

- **缺乏对项目架构的真正理解**：不知道团队代码背后的"为什么"，只知道从公开代码学到的模式
- **不会主动解释设计权衡**或像有思想的人类同事那样发现高层设计缺陷
- **无法指导或分享隐性知识**：不知道团队特定惯例、模块为何以某种方式实现的历史原因、或驱动决策的业务背景
- **没有情商**：AI 不会在需求模糊时主动澄清问题，不会温和地批评你的方法或庆祝巧妙的解决方案

正如一位工程师所说，编码助手"只覆盖了结对编程目标和好处的一小部分"，因为结对根本上是关于提升整个团队——这是只关注代码产出的 AI 无法完全实现的。

## AI 带来的团队动态变化

到 2025 年，使用 AI 编码工具已成为开发工作流的常态——约 84% 的开发者报告正在使用或计划使用 AI 助手，超过一半每天在编码任务中使用它们。

### 主要变化

**更多独立编码，AI 在肩**

开发者可以独自处理以前可能需要结对的任务，因为 AI 提供即时支持。单个工程师可以用 AI 工具审查代码明显 bug 或生成单元测试，减少安排结对会话的即时需求。

**人类互动减少的风险**

意外副作用是开发者可能减少自发协作。如果每个人 IDE 里都有 AI 结对伙伴，他们可能不会像以前那样经常找队友头脑风暴。AI 工具实际上让一些开发者更孤立——他们依赖 AI，跳过了以前卡住时会发生的走廊对话或快速结对。

过度依赖独立 AI 工作还可能导致经验较少的开发者技能退化——如果 junior 总是让 AI 生成代码，可能不会真正学习底层概念，在知识上造成"纸牌屋"效应。

**加强监督**

明智的工程团队认识到这些风险并调整实践来补偿。许多组织加倍重视代码审查和显式知识共享实践。一些团队标记 AI 生成的 PR 部分，要求审查者重点关注这些区域。

一项 Stanford 研究发现，使用 AI 助手的程序员平均写出的代码安全性更低，但矛盾地相信他们的 AI 编写代码更安全——凸显了对 AI 贡献进行人类审查的必要性。

**聚焦复杂任务的指导和结对**

许多团队不是消除结对编程，而是把它重新聚焦在最重要的地方。敏捷教练和技术负责人报告他们仍然鼓励定期的人对人结对，特别是对 junior 或复杂功能。

发起结对会话的门槛已经改变：直接的编码可以用 AI 独自处理，而棘手的"硬骨头"仍然需要找同事。正如一位经验丰富的程序员在每天使用 AI 几个月后观察到的：

> AI 结对编程在大多数实现任务上胜过人类结对编程……但你仍然需要人类来处理困难的事情。

**工作流和心流的变化**

使用 AI 的开发者报告花更少时间上下文切换（如暂停查文档），更多时间在连续的心流状态编码。这对生产力有益，但也意味着可能与同事聊天或快速设计讨论的自然断点更少。为维护团队凝聚力，一些团队安排明确的同步点。

正如 Thoughtworks 工程负责人所说，"知识传递不能通过 bot 发生"——所以结对和代码审查的人类元素仍然关键。

## 新兴的 AI 结对编程模式

### 人-AI 结对（一对一）

最常见的新模式是单个开发者与 AI 助手结对。这把独立编程会话变成类似结对的体验，只是 navigator 是 AI agent。

到 2025 年，几乎所有开发者都尝试过它，大多数定期使用。开发者欣赏 AI 伙伴始终可用（不需要预约）且对上下文有"无限耐心"和记忆。

人-AI 结对往往在目标明确的任务上表现出色——AI 可以快速生成解决方案，人类然后精炼或整合。

### AI 增强的三人组和 Mob

一些团队在多人协作中加入 AI 助手，创建包含一个或多个人类开发者加 AI 的三人组（或更大的 mob）。

一种建议的做法是三方"mob programming"会话：一位 senior 开发者、一位 junior 开发者和 AI 一起解决同一个问题。junior 可能驾驶（写代码），AI 实时建议代码或回答问题，senior 作为监督者和教练。

这种设置旨在两全其美：junior 获得人类导师的学习好处和 AI 建议的生产力提升，而 senior 确保 AI 输出被审查且教学时刻不被错过。

AI 可以变成教学工具——senior 可以实时向 junior 解释为什么接受或拒绝 AI 的提议。

### 异步 AI 结对

更具变革性的转变是 AI 促进的异步结对编程。传统上，结对需要两人同时在场同步工作。AI 改变了这一点：开发者现在可以在回合制、异步工作流中与 AI agent"结对"。

例如，开发者可能把定义明确的任务委托给 AI（"实现一个做 X 的函数，这是需求"），然后去做别的事情。AI 自主处理任务——写代码、运行测试、甚至生成文档——然后人类回来审查结果。

互动变成迭代循环：人类给指示或高层指导，AI 产出草稿方案，人类审查并给反馈，循环重复直到代码满意。

这种异步模式的好处显著：
- 允许并行工作：开发者可以让 AI 编码功能的一部分而自己专注另一部分
- 缓解分布式团队的日程安排问题——不需要两人同时在线

然而，这种模式也改变了协作的性质：更少关于持续对话，更多关于战略委托和审查。

### 新模式的挑战

- 在 AI 增强的三人组或 mob 中，人类成员需要避免不加批判地顺从 AI 建议
- 在异步结对中，维护上下文和理解是大挑战——没有实时往返，人类可能回来面对 AI 写的代码却难以理解其选择
- 传统结对常带来两个队友之间的联结和知识传递，异步 AI agent 显然无法提供这些

成功使用这些新模式的团队在寻找补充方式来建立人类联结——例如定期设计讨论、面对面代码审查会议。

## 工程团队的实际适应

### 选择何时人对人结对 vs 何时利用 AI

团队变得更审慎地决定哪些任务真正需要两个人类大脑，哪些可以由一个开发者加 AI 处理。

常见方法：
- AI 用于理解明确的、粒度化的实现工作
- 人类结对保留给高不确定性、复杂问题解决或知识传递的任务

一些敏捷团队更新了 Definition of Done 或团队协议，包含类似这样的指导："对于复杂用户故事或关键代码，做结对或 mob 编程会话（AI 可选）。对于常规任务或 spike 方案，可以先用 AI 独立开始然后做同行评审。"

### 混合 AI 的结对仪式修订

当人类结对坐在一起时，他们现在常把 AI 作为会话中的工具。pairs 偶尔会暂停问 AI 一个想法（"让我们看看 Copilot 会怎么实现这个方法"），然后批评或精炼它提供的内容。

这可以激发人类之间的讨论："Copilot 建议了方案 X——我们喜欢那个吗，还是应该做 Y？"

pairs 也设定基本规则避免过度依赖——例如同意如果 AI 的建议不能被双方立即理解，就不使用它直到完全分析。一些团队把 AI 当作在场的 junior 开发者：对快速想法有用，但没有权威性。

### 强制代码审查

许多组织制定政策：所有 AI 生成的代码必须由人类审查，通常比人类编写的代码更严格。

一些团队让开发者明确标记 PR 的哪些部分是 AI 辅助的（通过注释或 commit 消息），让审查者知道要仔细审视这些部分。

审查过程本身变成学习机会：如果 junior 开发者接受了 AI 方案，审查者可能问他们——"你理解为什么代码这样写吗？你能解释吗？"——确保 junior 不是盲目复制 AI。

### 指导和"AI 辅助学徒制"

前瞻性团队不是消除指导，而是重新强调它。鼓励 senior 开发者定期与 junior 结对，除了 junior 使用 AI 工具之外。

一种新做法是让 senior、junior 和 AI 一起工作。另一种是代码审查即结对：senior 和 junior 会面逐行审查涉及 AI 的代码，事后模拟关于为什么以某种方式做事的结对对话。

一些公司甚至正式化了"office hours"或每周结对编程时段，junior 必须（与人类）在非平凡任务上结对，确保他们获得定期的面对面指导时间。

### AI 使用的团队规范

专业团队也在创建与 AI 助手协作的指南和最佳实践：

- "不要用 AI 生成关键任务加密代码——手动做"
- "如果 AI 产出大代码块，为他人写一个注释总结它做什么"
- 要求开发者通过运行测试或检查文档来验证 AI 输出，而不是盲目信任

使用 AI 助手是一项需要磨练的技能，就像使用调试器或任何强大工具一样。

### 维护文档和知识库

因为 AI 可以生成绕过正常讨论的代码或答案，有风险重要决策或洞察没有被记录在任何地方。

为应对这点，团队培养记录 AI 相关变更理由的习惯。例如，如果开发者用 ChatGPT 想出复杂算法，可能被要求写 ADR（架构决策记录）或至少 wiki 笔记解释方案并引用想法来源。

### 定期"无 AI"演练

少数情况下，团队制定偶尔关掉 AI 编码的实践——确保基线技能不会退化。

例如，团队可能宣布每周五为"无 AI 编码日"或举办参与者不能使用代码生成工具的黑客马拉松。如果没有 Copilot 编码一天的想法引起恐慌，那是团队使用 AI 方式有问题的红旗。

## AI 后的价值主张变化

### 生产力和速度

AI 助手无疑为许多常规任务涡轮增压了编码速度。企业环境中使用 GitHub Copilot 的开发者完成任务比没有它的快约 55%，Amazon 的数据显示 CodeWhisperer 有类似约 57% 的加速。

然而，速度不是一切。一个意外发现是感知生产力并不总是匹配实际生产力。开发者可能感觉用 AI 移动更快（因为编码感觉更容易，建议来得快），但如果 AI 引入错误后来需要修复，端到端时间可能受影响。

在一项调查中，开发者预期 AI 让他们快约 24%，但实践中一些任务用 AI 反而慢约 19%——可能由于调试 AI 错误的时间。尽管如此，这些开发者仍然相信他们用 AI 快了约 20%，凸显感知差距。

专业团队正在学习衡量成功不仅仅是生成的代码行数，还有维护代码的质量和寿命。

### 代码质量和准确性

AI 对代码质量的影响是双刃剑。

一方面，AI 助手常促进标准化并改善某些质量方面。由于这些模型在最佳实践代码上训练，它们的建议倾向于遵循常见模式和风格指南。AI 也相当擅长捕捉简单错误，像持续的基础代码审查。

然而，AI 不是万无一失的，可能引入自己的质量问题。如果训练数据有缺陷示例，AI 可能插入微妙 bug 或安全漏洞（并且自信地这样做）。有案例 AI 建议的代码效率低下甚至不安全——例如推荐使用过时加密库或硬编码凭证。

AI 后的转变是质量保证责任更重地转移到审查和测试阶段。许多团队采取"信任但验证"的立场：利用 AI 帮助快速产出代码，但然后像审查 junior 开发者写的代码一样严格审查它。

2025 年 75% 的开发者说他们总是在合并前手动审查 AI 生成的代码。

### 入职和知识传递

在传统结对编程中，最大的回报之一是新人可以通过与有经验的团队成员结对快速吸收知识。

在 AI 时代，一方面 AI 工具让技术知识比以往更容易获取。新开发者可以问 AI 助手关于代码库的问题（"这个函数做什么？"、"如何调用用户服务 API？"）并获得即时答案。

然而，隐性和项目特定的知识传递仍然需要人类干预。AI 还不能可靠地解释为什么团队选择微服务 X 而不是 Y，或功能的历史背景是什么，或如何处理系统的敏感部分。

> 结对编程也是关于那种创造集体代码所有权的知识共享……分享没有写在任何地方、因此对 LLM 不可用的隐性知识。

明智的团队主动让 junior 与 senior 结对，即使 junior 似乎用 AI 做得很好，以确保人类视角和公司特定背景被传授。

### 团队沟通和凝聚力

另一个微妙的价值转变在于团队如何维护共同理解和联结。结对编程历史上对团队凝聚力很有益——两人紧密合作发展信任和共同风格。

现在，有更多异步和 AI 介导的工作，团队如果不小心就有风险形成孤岛。领先组织意识到这个风险（"失去人类联结"被明确引用为转向 AI 辅助工作流的挑战）并通过补充其他形式的互动来解决它。

许多开发者感觉用 AI 更有生产力甚至对工作更满意（调查显示 AI 助手大幅提升开发者享受感和成就感），因为他们可以专注于创造性方面并把苦差事留给机器。但他们也认识到结对编程的一些经典优势——指导、设计协作、集体代码所有权——仍然需要人类触感。

正如一位技术负责人建议的，我们应该"用编码助手让 pairs 更好，而不是取代结对"。

## 结语

结对编程已经演进——而非消失——在 AI 时代。实践的原始驱动力（更好的代码、共享知识、更快入职、实时审查）仍然被追求，但团队现在通过 AI 和人类协作的混合来实现它们。

专业软件工程团队发现平衡方法产出最好结果：用 AI 做它擅长的（速度、一致性、无尽的想法），用人类做他们擅长的（判断、设计、指导）。

AI 结对伙伴的兴起在许多方面验证了核心敏捷价值的重要性。我们学到 AI 可以写代码，但确保它是正确代码的是代码背后的人。

> 现代 AI 增强开发应该产出更好的结果并仍然产出更好的开发者——只要我们有意识地使之如此。

实现"AI 加持的更好团队"将是未来几年结对编程实践的核心目标。
