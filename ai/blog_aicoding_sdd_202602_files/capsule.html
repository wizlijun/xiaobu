<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI辅助编程与规范驱动开发 (SDD)</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f4f6f9;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            padding: 40px;
        }
        h1 {
            color: #2c3e50;
            border-bottom: 2px solid #eaeaea;
            padding-bottom: 15px;
            margin-bottom: 30px;
        }
        h2 {
            color: #3498db;
            margin-top: 30px;
            display: flex;
            align-items: center;
        }
        h2::before {
            content: '';
            display: inline-block;
            width: 8px;
            height: 24px;
            background: #3498db;
            margin-right: 10px;
            border-radius: 4px;
        }
        h3 {
            color: #555;
            margin-top: 20px;
        }
        .highlight-box {
            background-color: #e8f4fd;
            border-left: 5px solid #3498db;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }
        .warning-box {
            background-color: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }
        ul {
            padding-left: 20px;
        }
        li {
            margin-bottom: 10px;
        }
        strong {
            color: #2c3e50;
        }
        .tag {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            background: #eee;
            font-size: 0.9em;
            margin-right: 5px;
            font-weight: bold;
        }
        .level-badge {
            background: #27ae60;
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.85em;
            vertical-align: middle;
            margin-left: 10px;
        }
    </style>
</head>
<body>

<div class="container">

    <h1>🚀 AI辅助编程：规范驱动开发 (SDD) 的前景与陷阱</h1>

    <div class="highlight-box">
        <strong>核心观点：</strong> 软件开发正在经历从随性的“凭感觉编程 (Vibe Coding)”向结构化的“规范驱动开发”的重置。与其依赖巧妙的提示词 (Prompts)，不如依赖清晰的需求、架构和预先定义的成功标准。
    </div>

    <h2>1. 什么是 AI 语境下的“规范 (Spec)”？</h2>
    <p>传统的 Spec 指设计文档。在 AI 编程中，它指：</p>
    <ul>
        <li><strong>行为导向：</strong> 描述软件应该“做什么”，而不是“怎么写代码”。</li>
        <li><strong>自然语言：</strong> 结构化但人类可读（如用户故事、验收标准、API 契约）。</li>
        <li><strong>任务级 vs. 全局级：</strong> 
            <ul>
                <li><em>任务级 Spec：</em> 针对特定功能（如 user-story-123.md）。</li>
                <li><em>全局上下文：</em> 项目架构、编码标准（“记忆库”）。</li>
            </ul>
        </li>
    </ul>

    <h2>2. SDD 的三个进化层级</h2>
    <ul>
        <li>
            <strong>Level 1: 规范优先 (Spec-First)</strong> <span class="tag">主流</span><br>
            先写规范指导 AI 生成代码。任务完成后，规范可能被丢弃，仅作为一次性提示词使用。
        </li>
        <li>
            <strong>Level 2: 规范锚定 (Spec-Anchored)</strong> <span class="tag">进阶</span><br>
            规范是“活”的文档。随功能迭代更新，作为未来维护和重构的基准，与代码共同在版本控制中维护。
        </li>
        <li>
            <strong>Level 3: 规范即源码 (Spec-as-Source)</strong> <span class="tag">极端/实验性</span><br>
            规范是唯一的真理来源。人类只编辑规范，代码完全由 AI 生成且不可手动修改。
        </li>
    </ul>

    <h2>3. 典型工具与工作流</h2>
    
    <h3>🛠️ Amazon Kiro (轻量级 IDE 插件)</h3>
    <ul>
        <li><strong>流程：</strong> 需求 → 设计 → 任务列表 → 生成代码。</li>
        <li><strong>特点：</strong> 适合新项目。</li>
        <li><strong>缺点：</strong> 对于小修小补太繁琐（“杀鸡用牛刀”），修个小 Bug 可能生成一堆文档。</li>
    </ul>

    <h3>🛠️ GitHub Spec Kit (结构化 + 治理)</h3>
    <ul>
        <li><strong>核心：</strong> 引入“宪法 (Constitution)”文件，强制执行全局规则（代码风格、安全性）。</li>
        <li><strong>流程：</strong> 规范 → 计划 → 任务 → 实现。</li>
        <li><strong>优点：</strong> 适合复杂项目和团队协作，确保一致性。</li>
        <li><strong>缺点：</strong> 产生大量 Markdown 文件，审查文档比看代码还累，可能导致过度设计。</li>
    </ul>

    <h3>🛠️ Tessl (迈向 Spec-as-Source)</h3>
    <ul>
        <li><strong>理念：</strong> 生成的代码文件标记为“不可编辑”。</li>
        <li><strong>目标：</strong> 试图复兴模型驱动开发 (MDD)，让人类专注于高层逻辑。目前仍处于实验阶段。</li>
    </ul>

    <h2>4. ⚠️ 主要挑战与陷阱</h2>
    <div class="warning-box">
        <ul>
            <li><strong>旧项目适配难：</strong> 在现有代码库（Brownfield）中引入 SDD 成本极高，需要先用 Spec 描述现有逻辑。</li>
            <li><strong>流程僵化：</strong> 无论任务大小都强推全套流程，会降低效率。</li>
            <li><strong>审查疲劳：</strong> 用“写 Spec”代替“写代码”可能只是转移了工作量。审查一堆生成的 Markdown 文档可能比直接审查代码更痛苦。</li>
            <li><strong>虚假的控制感：</strong> 即使有详细 Spec，AI 仍可能产生幻觉或过度执行规则。<strong>人类必须验证每一步。</strong></li>
            <li><strong>与敏捷冲突：</strong> 过度强调前期详细设计 (Big Up-Front Design)，可能违背小步迭代的敏捷原则。</li>
            <li><strong>MDD 的阴影：</strong> 历史上的“模型驱动开发”因模型与代码不同步而失败。如果 Spec 过于死板，可能重蹈覆辙。</li>
        </ul>
    </div>

    <h2>5. ✅ 理想的人机协作工作流</h2>
    <p>为了平衡结构化与灵活性，建议采取以下混合模式：</p>
    
    <ol>
        <li><strong>编写可测试的规范：</strong> 使用“Given/When/Then”格式。尽量将 Spec 转化为<strong>自动化测试</strong>（可执行的规范），让测试来验证 AI 生成的代码。</li>
        <li><strong>保持人机循环 (Human-in-the-Loop)：</strong> 人类负责编排和审查。AI 负责繁重的编码和样板代码。<strong>信任，但要验证。</strong></li>
        <li><strong>CI/CD 集成：</strong> 将 Spec 和测试纳入持续集成。代码必须通过基于 Spec 的测试才能合并。</li>
        <li><strong>小步快跑：</strong> 不要试图一次生成整个子系统。按功能点切分，快速迭代 Spec → Code → Test 的循环。</li>
        <li><strong>图表辅助而非替代：</strong> 架构图用于沟通理解，不要强求图表直接生成代码。</li>
        <li><strong>角色演变：</strong> 产品经理与开发者界限模糊。可能出现“技术产品经理”或“产品型工程师”，负责编写精准的 Spec。</li>
    </ol>

    <div class="highlight-box" style="text-align: center; font-weight: bold;">
        结论：SDD 是为了给 AI 加上“护栏”，而非制造官僚主义。<br>
        成功的关键在于：用规范定义“做什么”，用测试验证“做对了没”，让人类掌控方向。
    </div>

</div>

</body>
</html>