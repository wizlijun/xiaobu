<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>深度访谈摘要与核心判断分析：李想谈AI</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background-color: #f9fafb;
            color: #374151;
            line-height: 1.8;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 1000px;
            margin: 20px auto;
            background-color: #fff;
            padding: 30px 40px;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.08);
        }
        h1, h2, h3 {
            color: #111827;
            border-bottom: 2px solid #f3f4f6;
            padding-bottom: 10px;
        }
        h1 {
            text-align: center;
            font-size: 2.4em;
            margin-bottom: 30px;
        }
        h2 {
            font-size: 1.8em;
            margin-top: 45px;
            margin-bottom: 25px;
            color: #34495e;
        }
        h3 {
            color: #16a085;
            margin-top: 0;
            border-bottom: 1px solid #a3e4d7;
            padding-bottom: 5px;
            font-size: 1.2em;
        }
        .speaker-intro {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 40px;
            border-left: 5px solid #4a90e2;
        }
        .speaker-intro p {
            margin: 5px 0;
            font-size: 1.1em;
        }
        .speaker-intro .title {
            font-weight: bold;
            color: #333;
        }
        .topic-section {
            margin-bottom: 25px;
        }
        .topic-title {
            color: #4a90e2;
            font-size: 1.4em;
            font-weight: 600;
            margin-bottom: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            border-radius: 8px;
            transition: background-color 0.3s ease;
        }
        .topic-title:hover {
            background-color: #f3f8fe;
        }
        .topic-title::after {
            content: '＋';
            font-size: 1.2em;
            font-weight: bold;
            color: #4a90e2;
            transition: transform 0.3s ease-in-out, content 0.3s;
        }
        .topic-title.expanded::after {
            content: '－';
        }
        .topic-content {
            display: none;
            padding-left: 15px;
            border-left: 3px solid #e0e0e0;
            margin-top: 15px;
            overflow: hidden;
        }
        .topic-content.visible {
            display: block;
        }
        .highlight, .se-highlight {
            padding: 18px;
            border-radius: 8px;
            margin: 15px 0;
            border-left-width: 5px;
            border-left-style: solid;
        }
        .highlight {
             background-color: #f0f8ff;
             border-left-color: #aed6f1;
        }
        .se-highlight {
            background-color: #e8f8f5;
            border-left-color: #1abc9c;
        }
        .judgment {
            background-color: #fffbe6;
            border-left: 5px solid #f1c40f;
            padding: 20px;
            margin-bottom: 25px;
            border-radius: 8px;
        }
        .judgment strong {
            color: #d35400;
            font-size: 1.2em;
            display: block;
            margin-bottom: 10px;
        }
        .intro, .conclusion {
            background-color: #f8f9fa;
            border-left: 5px solid #5dadec;
            padding: 20px;
            margin: 30px 0;
            border-radius: 8px;
            font-size: 1.1em;
            font-style: italic;
        }
        .key-point {
            font-weight: bold;
            color: #2980b9;
        }
        .data-point {
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
            background-color: #e5e8e8;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: bold;
        }
        .correction {
            color: #e74c3c;
            font-style: italic;
            font-size: 0.9em;
            display: block;
            margin-top: 5px;
        }
        ul, ol {
            padding-left: 25px;
        }
        li {
            margin-bottom: 12px;
            padding-left: 10px;
            position: relative;
        }
        ul li::before {
            content: '•';
            color: #5dadec;
            font-weight: bold;
            display: inline-block;
            width: 1em;
            margin-left: -1.3em;
            position: absolute;
            left: 1em;
        }
    /* 主容器布局调整 - 移除flex布局以保持原始排版 */

.attachments-panel {
    width: 250px;
    background: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    height: fit-content;
    position: sticky;
    top: 20px;
    flex-shrink: 0;
    z-index: 1000;
    border: 1px solid #e0e0e0;
}
.attachments-panel h3 {
    color: #004085;
    margin-top: 0;
    margin-bottom: 15px;
    text-align: center;
    border-bottom: 2px solid #004085;
    padding-bottom: 10px;
}
.attachment-item {
    background-color: #f8f9fa;
    border: 1px solid #ced4da;
    border-radius: 5px;
    padding: 15px;
    margin-bottom: 15px;
    transition: all 0.3s ease;
}
.attachment-item:hover {
    background-color: #e9ecef;
    border-color: #004085;
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}
.attachment-item h4 {
    margin: 0 0 8px 0;
    color: #004085;
    font-size: 14px;
}
.attachment-item p {
    margin: 0 0 10px 0;
    font-size: 12px;
    color: #6c757d;
    line-height: 1.4;
}
.download-btn {
    display: inline-block;
    background-color: #28a745;
    color: white;
    text-decoration: none;
    padding: 8px 16px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: bold;
    transition: background-color 0.3s ease;
    width: 100%;
    text-align: center;
    box-sizing: border-box;
}
.download-btn:hover {
    background-color: #218838;
    text-decoration: none;
    color: white;
}
.download-btn:before {
    content: "▼ ";
    margin-right: 5px;
}

/* 可折叠浮动框样式 */
.attachments-panel {
    position: fixed;
    top: 10px;
    right: 10px;
    width: auto; /* 自适应宽度 */
    min-width: 250px; /* 最小宽度 */
    max-width: calc(100vw - 60px); /* 最大宽度，留出边距 */
    max-height: calc(100vh - 80px); /* 留出更多空间避免滚动条 */
    overflow-y: auto;
    overflow-x: hidden; /* 隐藏横向滚动条 */
    z-index: 9999;
    box-shadow: 0 8px 24px rgba(0,0,0,0.25);
    border: 2px solid #004085;
    transform: translateX(100%); /* 默认完全隐藏 */
    transition: transform 0.3s ease;
    /* 自定义滚动条样式 */
    scrollbar-width: thin;
    scrollbar-color: #004085 #f0f0f0;
}

/* WebKit浏览器滚动条样式 */
.attachments-panel::-webkit-scrollbar {
    width: 6px;
}

.attachments-panel::-webkit-scrollbar-track {
    background: #f0f0f0;
    border-radius: 3px;
}

.attachments-panel::-webkit-scrollbar-thumb {
    background: #004085;
    border-radius: 3px;
}

.attachments-panel::-webkit-scrollbar-thumb:hover {
    background: #0056b3;
}

/* 展开时显示 */
.attachments-panel.expanded {
    transform: translateX(0);
}

/* 移除container的margin-right设置，保持原始布局 */

.attachment-item {
    width: 250px;
    margin-right: 0;
    display: block;
    margin-bottom: 12px;
    white-space: nowrap; /* 防止文本换行导致宽度过大 */
}

.attachment-item h4 {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; /* 长文本显示省略号 */
    max-width: 100%;
}

.attachments-panel h3 {
    font-size: 16px;
    margin-bottom: 12px;
    white-space: nowrap; /* 标题不换行 */
}

.attachments-panel a {
    white-space: nowrap; /* 链接文本不换行 */
    overflow: hidden;
    text-overflow: ellipsis;
    display: inline-block;
    max-width: 100%;
}

/* 浮动切换按钮 */
.float-toggle {
    position: fixed;
    top: 10px;
    right: 10px;
    width: 50px;
    height: 50px;
    background: #004085;
    color: white;
    border: none;
    border-radius: 50%;
    font-size: 20px;
    cursor: pointer;
    z-index: 10000;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.float-toggle:hover {
    background: #0056b3;
    transform: scale(1.1);
}

.float-toggle:active {
    transform: scale(0.95);
}

/* 当面板展开时，按钮位置动态调整 */
.attachments-panel.expanded ~ .float-toggle {
    right: 20px; /* 保持在面板左侧的固定位置 */
    opacity: 0.7; /* 展开时降低透明度，避免遮挡 */
}
    </style>
</head>
<body>
    <div class="container">
        <h1>深度访谈摘要与核心判断分析：李想谈AI</h1>

        <div class="speaker-intro">
            <p><span class="title">受访者：</span>李想 (理想汽车创始人、董事长兼 CEO)</p>
            <p><span class="title">访谈嘉宾：</span>小俊 (主持人)</p>
        </div>

        <h2>第一部分：访谈核心摘要 (交互式)</h2>

        <div class="topic-section">
            <div class="topic-title">软件工程与AI的深度融合</div>
            <div class="topic-content">
                <div class="se-highlight">
                    <h3>AI作为生产力工具 (AI as a Production Tool)</h3>
                    <ul>
                        <li><strong class="key-point">核心标准：</strong> AI要成为生产工具，必须具备 <code class="data-point">Action</code> (行动)能力，实现“知行合一”，而不仅是提供信息。用户愿意为之付费是重要衡量标准。</li>
                        <li><strong class="key-point">编程工具案例：</strong> 编程辅助工具 <code class="data-point">Cursor</code> 被工程师认为是初级的生产工具，员工自愿付费使用，显著提升了开发效率。</li>
                    </ul>
                </div>
                 <div class="se-highlight">
                    <h3>构建VLA模型的工程实践 (Engineering VLA Models)</h3>
                    <h3>三阶段训练法：</h3>
                    <ol>
                        <li><strong class="key-point">预训练 (Pre-training):</strong> 训练一个 <code class="data-point">32B</code> 参数的云端VL（视觉-语言）基座模型，融合3D/2D视觉数据、交通专用语言数据和VL联合数据。</li>
                        <li><strong class="key-point">模型蒸馏 (Distillation):</strong> 将云端大模型蒸馏成一个 <code class="data-point">3.2B</code> 参数、包含8个专家的 <code class="data-point">MOE</code> 架构的端侧模型，以满足车载芯片的实时性要求。</li>
                        <li><strong class="key-point">后训练与强化 (Post-training & RL):</strong> 
                            <ul>
                                <li><strong>模仿学习：</strong> 类似驾校学车，让模型学会Action，此时模型规模扩展至约 <code class="data-point">4B</code>。</li>
                                <li><strong>强化学习 (RLHF):</strong> 通过人类反馈（如接管数据）进行安全和习惯对齐，使其驾驶行为“像一个职业司机”，而非“赛车手”。为此专门成立了百人规模的“超级对齐”团队。</li>
                            </ul>
                        </li>
                    </ol>
                </div>
                <div class="se-highlight">
                    <h3>底层软件工程的挑战与实践</h3>
                    <ul>
                        <li><strong class="key-point">硬件适配与编译优化：</strong> 由于NVIDIA Orin芯片原生不支持语言模型，理想的编译器团队自主编写底层软件，实现了用 <code class="data-point">INT4</code> 的方式运行VLM，这与DeepSeek做 <code class="data-point">FP8</code> 优化的工程思路异曲同工。</li>
                        <li><strong class="key-point">系统架构：</strong> 设计了“中央大脑 + 分脑”的分布式计算架构，以平衡集中计算和实时传输效率，而非单一的中央计算。</li>
                        <li><strong class="key-point">世界模型与仿真测试：</strong> 构建了高度仿真的交通世界模型用于“考试”和生成强化学习数据，将每 <code class="data-point">1万公里</code> 的验证成本从 <code class="data-point">18万</code> 元降低到 <code class="data-point">4000</code> 元，大幅提升了算法迭代和验证的效率。</li>
                    </ul>
                </div>

                <div class="se-highlight">
                    <h3>新范式：Agent OS</h3>
                    <ul>
                        <li><strong class="key-point">理念：</strong> 通用Agent的更优形态是 <code class="data-point">Agent OS</code>。这是一个平台，让不同领域的专业人员可以在上面开发自己专用的Agent。</li>
                        <li><strong class="key-point">内部实践：</strong> 计划由基础模型、操作系统和智能商业三个团队联合打造内部的Agent OS，赋能客服、销售、研发等团队开发自己的专业Agent，例如“电话专家Agent”或“编程Agent”。</li>
                    </ul>
                </div>

                <div class="se-highlight">
                    <h3>组织与效率变革</h3>
                    <ul>
                        <li><strong class="key-point">小团队高效率：</strong> 理想的端到端智驾团队仅 <code class="data-point">200</code> 人，与特斯拉规模相仿，而业界采用规则算法的团队规模则高达 <code class="data-point">2000-6000</code> 人。这体现了AI原生开发模式对组织效率的颠覆。</li>
                        <li><strong class="key-point">研究驱动：</strong> AI时代，<code class="data-point">研究=能力</code>。认知可以直接转化为模型能力，因此强调研究的重要性，并大胆启用年轻人和校招生进行前沿探索，避免被过往经验束缚。</li>
                    </ul>
                     <p class="correction">（注：访谈中的“Minus”、“Deepmind”在特定语境下可能指代“Minos”或“DeepSeek”，已根据上下文进行修正和解读。）</p>
                </div>
            </div>
        </div>

        <div class="topic-section">
            <div class="topic-title">智能驾驶的技术演进与VLA架构</div>
            <div class="topic-content">
                <div class="highlight">
                    <p><strong class="key-point">智能驾驶的三个阶段类比：</strong></p>
                    <ol>
                        <li><strong>规则算法时代：</strong> 像“昆虫智能”，依赖固定规则和高精地图，泛化能力差。</li>
                        <li><strong>端到端+VLM时代：</strong> 像“哺乳动物智能”，通过模仿学习人类行为，但对物理世界理解不深。</li>
                        <li><strong>VLA (Vision-Language-Action) 时代：</strong> 像“人类智能”，能真正理解物理世界和语言指令，并作出行动，是“司机大模型”。</li>
                    </ol>
                    <p><strong class="key-point">VLA的核心优势：</strong> 解决了端到端模型无法处理的复杂Corner Case（如复杂修路）和与人的自然语言交互问题。它不仅能看懂物理世界，还能看懂导航地图等软件界面。</p>
                    <p><strong class="key-point">L3/L4展望：</strong> 当前车载算力是瓶颈，基本是L3水平。实现L4需要端侧能运行更大规模的模型（如 <code class="data-point">32B</code> 级别）。预计今年三、四季度能看到L3能力的产品。</p>
                </div>
            </div>
        </div>
        
        <div class="topic-section">
            <div class="topic-title">理想的战略定位：人工智能终端公司</div>
            <div class="topic-content">
                <div class="highlight">
                    <p><strong class="key-point">公司新定位：</strong> 成为全球领先的“人工智能终端企业”。</p>
                    <p><strong>战略思考：</strong> 对比PC时代（微软vs苹果）和移动互联网时代（谷歌vs苹果），李想认为在涉及生命和财产安全的物理世界，软硬件一体的“终端企业”模式将比“平台企业”模式更具优势。</p>
                    <p><strong class="key-point">AGI终端的四大特征：</strong></p>
                    <ol>
                        <li>360度物理世界感知能力</li>
                        <li>认知决策能力</li>
                        <li>Action执行能力（控制机器或软件）</li>
                        <li>反思反馈能力</li>
                    </ol>
                    <p><strong>未来布局：</strong> 在汽车这个最大的AI终端之外，未来可能会在家庭、工作等场景中，探索符合以上四个特征的新型AGI终端产品。</p>
                </div>
            </div>
        </div>

        <div class="topic-section">
            <div class="topic-title">组织、能量与成长</div>
            <div class="topic-content">
                <div class="highlight">
                    <p><strong class="key-point">能量场理论：</strong> 一个高效的组织核心在于构建“能量场”。<code class="data-point">3-7人</code> 的小团队能形成最稳固的支撑结构，共同组成“更强的大脑”（集体思考）和“更强的心脏”（相互支撑）。</p>
                    <p><strong class="key-point">亲密关系的重要性：</strong> 能量的来源是关注人，尤其是亲密关系（家庭、核心同事）。核心在于建立“我需要你，甚至超过你需要我”的心态，这会激发主动性和正向连接。</p>
                    <p><strong class="key-point">成长驱动力：</strong> 个人和组织的终极驱动力是“掌控自己的命运，挑战成长的极限”。通过不断学习和成长来增强能力，最终实现用户价值和商业价值。</p>
                     <p><strong class="key-point">智慧与智能：</strong> 人工智能解决的是“智能”问题，而人类需要发展“智慧”。智慧是处理与自己、与他人、与万物之间“关系”的能力。AI的发展，要求人类更加关注智慧的提升。</p>
                </div>
            </div>
        </div>
        
        <!-- Part 2: Analysis -->
        <h2>第二部分：深度剖析 —— 李想对人工智能的核心判断</h2>

        <div class="intro">
            <p>通过本次深度访谈，我们可以清晰地勾勒出李想对人工智能的系统性思考。他的判断并非源于纯粹的技术理想主义，而是植根于产品经理的思维、企业家的战略远见和对物理世界工程实践的深刻理解。其核心思想呈现出高度的实用主义、对垂直整合的信念以及人机协同的终极愿景。</p>
        </div>

        <div class="judgment">
            <strong>判断一：实用主义至上 —— AI必须成为“生产工具”</strong>
            <ul>
                <li><strong>价值三级论：</strong> 他将AI应用划分为<code>信息工具</code>、<code>辅助工具</code>和<code>生产工具</code>。他明确指出，只有当AI进化为能真正替代人类执行专业工作、创造可衡量价值的“生产工具”时，AI时代才算真正爆发。这是他评判所有AI产品价值的黄金标准。</li>
                <li><strong>行动（Action）是关键：</strong> 他反复强调“知行合一”。AI如果仅仅停留在给出建议和策略（知），而不能在数字或物理世界中执行任务（行），就无法摆脱信息工具的范畴。他对Minus等Agent产品的关注，正是源于它们对“Action”的探索。</li>
                <li><strong>警惕“熵增”：</strong> 他敏锐地观察到，当前很多AI应用正在制造大量的、充斥着幻觉的无效信息，反而增加了人们的认知负荷，是在做“熵增”。他追求的是利用AI做“熵减”，即简化流程、提升效率、解决实际问题。</li>
            </ul>
        </div>

        <div class="judgment">
            <strong>判断二：垂直整合与专业化 —— “Agent OS”而非“通用Agent”</strong>
            <ul>
                <li><strong>专业Agent > 通用Agent：</strong> 他不认为一个单一的通用大模型能解决所有专业问题。无论是驾驶、医疗还是法律，都需要针对性的数据、模型和思维链（CoT）。因此，未来将是众多“专业Agent”的时代。</li>
                <li><strong>平台化构想：</strong> Agent OS是他提出的解决方案。这是一个底层的操作系统，提供通用的模型、工具调用、虚拟机等能力，让各个领域的专家可以在这个平台上，低门槛地构建和训练属于自己的专业Agent。这是一种“授人以渔”的思路。</li>
                <li><strong>理想的定位：</strong> 理想汽车将专注于打造最顶级的“司机Agent”，而其他领域的Agent（如教育、医疗），则应该由该领域的专业公司来构建。公司内部也会基于Agent OS，赋能各部门（如销售、客服）开发自己的工作Agent。</li>
            </ul>
        </div>

        <div class="judgment">
            <strong>判断三：人机协同的新范式 —— “人类智慧”与“AI智能”的分工</strong>
            <ul>
                <li><strong>智能与智慧的二分法：</strong> 他将AI的能力定义为“智能”（Intelligence），擅长处理海量、复杂的信息和数据。而人类的核心优势在于“智慧”（Wisdom），即处理与自己、与他人、与万物之间“关系”的能力，以及体验幸福、产生能量等高级情感活动。</li>
                <li><strong>人类的未来角色：</strong> 在AI能力超越人类的未来，人类不应与AI在“智能”层面竞争，而应将重复性和计算密集型工作交给AI，从而解放自己，有更多时间去提升智慧、体验生活、处理复杂的人际关系和进行创造性活动。</li>
                <li><strong>对AI安全的乐观：</strong> 他认为当前基于Transformer的架构，因其不具备自主意识和自我进化能力，本质上是安全的。其行为可以通过“对齐”（Alignment），特别是RLHF（人类反馈强化学习）来约束，使其符合人类的价值观和安全准则。风险在于未来可能出现的新架构。</li>
            </ul>
        </div>

        <div class="judgment">
            <strong>判断四：工程为王 —— 从底层构建全栈能力</strong>
            <ul>
                <li><strong>拒绝“跳跃式”发展：</strong> 他坚信能力的构建必须循序渐进。从规则算法到端到端，再到VLA，每一步都是必要的技术积累。他认为，没有扎实的底层工程能力，直接追求最顶尖的应用是不现实的，如同“练葵花宝典”。</li>
                <li><strong>全栈自研的必要性：</strong> 理想之所以能在智能驾驶等领域取得突破，得益于在操作系统、芯片编译、仿真平台（世界模型）等底层软件工程上的长期投入。例如，自研编译器使Orin芯片能运行VLM模型，自建世界模型将测试成本降低了超过40倍。</li>
                <li><strong>工程思维的核心：</strong> 他认为自己对工程的理解力是核心优势之一。工程问题可以通过结构化的提问、对物理规律的理解和对效率的极致追求来解决。这种思维让他能有效引导技术团队，即使他本人不是技术专家。</li>
            </ul>
        </div>
        
        <div class="judgment">
            <strong>判断五：终极形态的预判 —— AI将以“终端”形态赢得物理世界</strong>
            <ul>
                <li><strong>终端 > 平台（在物理世界）：</strong> 李想预判，在涉及安全、可靠性和复杂交互的物理世界中，软硬件深度整合的“AI终端”将比纯粹的“AI平台”更有价值。他以苹果的成功作为例证，认为当AI进入物理世界（如汽车、机器人），责任主体的一致性至关重要。</li>
                <li><strong>AGI终端的定义：</strong> 他为下一代终端设定了清晰的四个标准：<code>360度物理世界感知</code>、<code>认知决策</code>、<code>Action执行</code> 和 <code>反思反馈</code>。汽车是第一个大规模的AGI终端，未来还可能出现其他形态。</li>
                <li><strong>战略选择的清晰化：</strong> 这个判断为理想汽车的未来十年指明了方向。公司不再仅仅是一家汽车制造商，而是以汽车为起点，致力于打造一系列符合AGI时代特征的、软硬件服务一体化的终端产品公司。</li>
            </ul>
        </div>

        <div class="conclusion">
            <p>总结而言，李想对人工智能的判断是高度务实且极具野心的。他摒弃了关于AGI的空泛讨论，将焦点牢牢锁定在“创造价值”这一商业本质上。他认为AI的落地需要深厚的工程积累和垂直领域的专业化，同时又将人机关系提升到了“智能”与“智慧”协同共生的哲学高度。最终，他为理想汽车选择了一条类似苹果的“终端”之路，这是一条更艰难但可能在物理世界中更具统治力的道路。这一系列判断共同构成了一个清晰、自洽且可执行的战略蓝图。</p>
        </div>
    </div>

    <script>
        document.querySelectorAll('.topic-title').forEach(title => {
            title.addEventListener('click', function() {
                const content = this.nextElementSibling;
                this.classList.toggle('expanded');
                
                if (content.style.display === 'block') {
                    content.style.display = 'none';
                } else {
                    content.style.display = 'block';
                }
            });
        });

        // Auto-expand the first section by default
        const firstTitle = document.querySelector('.topic-title');
        if (firstTitle) {
            firstTitle.click();
        }
    </script>

<div class="attachments-panel" id="attachments-panel">
    <h3>原文</h3>
    <a href="https://www.xiaoyuzhoufm.com/episode/6902c5f7abb5e1cf581296be" target="_blank">源链接</a>
</div>
<button class="float-toggle" id="float-toggle" title="打开附件面板">◁</button>
<script>
// 浮动框展开/收起功能
document.addEventListener('DOMContentLoaded', function() {
    const panel = document.getElementById('attachments-panel');
    const toggleBtn = document.getElementById('float-toggle');
    
    if (!panel || !toggleBtn) return;
    
    // 切换面板显示状态
    function togglePanel() {
        panel.classList.toggle('expanded');
        // 更新按钮图标
        const isExpanded = panel.classList.contains('expanded');
        toggleBtn.textContent = isExpanded ? '▷' : '◁';
        toggleBtn.title = isExpanded ? '关闭附件面板' : '打开附件面板';
        
        // 动态调整按钮位置
        if (isExpanded) {
            // 等待面板展开动画完成后调整按钮位置
            setTimeout(() => {
                const panelWidth = panel.offsetWidth;
                toggleBtn.style.right = (panelWidth + 30) + 'px';
            }, 300);
        } else {
            toggleBtn.style.right = '10px';
        }
    }
    
    // 点击切换按钮
    toggleBtn.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        togglePanel();
    });
    
    // 点击页面其他地方时收起面板
    document.addEventListener('click', function(e) {
        const isClickOnPanel = panel.contains(e.target);
        const isClickOnToggle = toggleBtn.contains(e.target);
        
        if (!isClickOnPanel && !isClickOnToggle) {
            panel.classList.remove('expanded');
            toggleBtn.textContent = '◁';
            toggleBtn.title = '打开附件面板';
            toggleBtn.style.right = '10px'; // 重置按钮位置
        }
    });
    
    // ESC键关闭面板
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && panel.classList.contains('expanded')) {
            panel.classList.remove('expanded');
            toggleBtn.textContent = '◁';
            toggleBtn.title = '打开附件面板';
            toggleBtn.style.right = '10px'; // 重置按钮位置
        }
    });
});
</script>
</body>
</html>