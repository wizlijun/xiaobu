<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¸•é‡‘æ£®å®šå¾‹ï¼šæ·±åº¦è§£æç‰ˆ</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #3498db;
            --highlight-bg: #eef7ff;
            --text-color: #4a4a4a;
            --text-light: #7f8c8d;
            --bg-color: #ffffff;
            --card-shadow: 0 4px 6px rgba(0,0,0,0.05);
            --card-hover-shadow: 0 15px 30px rgba(0,0,0,0.1);
            --border-radius: 12px;
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            
            /* Special colors for the chart */
            --money-color: #27ae60;
            --time-color: #e74c3c;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "PingFang SC", "Microsoft YaHei", sans-serif;
            background-color: #f0f2f5;
            color: var(--text-color);
            line-height: 1.6;
            margin: 0;
            padding: 0;
        }

        header {
            background: var(--bg-color);
            padding: 60px 20px;
            text-align: center;
            border-bottom: 1px solid #eaeaea;
            margin-bottom: 20px;
        }

        h1 {
            color: var(--primary-color);
            margin: 0 0 15px 0;
            font-weight: 800;
            font-size: 2.5rem;
            letter-spacing: -1px;
        }

        .subtitle {
            color: var(--text-light);
            font-size: 1.1em;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.5;
        }

        main {
            max-width: 1000px;
            margin: 0 auto 60px auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
        }

        /* Card Styles */
        .card {
            background: var(--bg-color);
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
            padding: 30px;
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            border-left: 5px solid transparent;
        }

        .card:hover {
            transform: translateY(-3px);
            box-shadow: var(--card-hover-shadow);
        }

        .card.active {
            border-left-color: var(--accent-color);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        .card-number {
            font-size: 0.85em;
            color: var(--accent-color);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            background: rgba(52, 152, 219, 0.1);
            padding: 4px 8px;
            border-radius: 4px;
        }

        .card-title {
            font-size: 1.5em;
            font-weight: 700;
            color: var(--primary-color);
            margin: 10px 0;
            line-height: 1.3;
        }

        .core-law {
            background-color: var(--highlight-bg);
            color: var(--primary-color);
            padding: 15px 20px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1.05em;
            margin: 15px 0;
            border-left: 4px solid var(--accent-color);
            font-style: italic;
        }

        .toggle-icon {
            width: 32px;
            height: 32px;
            background: #f8f9fa;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-light);
            transition: var(--transition);
            flex-shrink: 0;
            margin-left: 15px;
        }

        .card.active .toggle-icon {
            transform: rotate(180deg);
        }

        /* Expanded Content */
        .details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.6s ease-in-out, opacity 0.6s ease-in-out;
            opacity: 0;
        }

        .card.active .details {
            max-height: 3000px;
            opacity: 1;
            margin-top: 25px;
            padding-top: 25px;
            border-top: 1px solid #f1f1f1;
        }

        .detail-section {
            margin-bottom: 25px;
        }

        .detail-heading {
            font-size: 1.1em;
            color: var(--primary-color);
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 8px;
            margin-bottom: 12px;
            font-weight: 700;
        }

        /* --- New Styles for Comparison Chart (Chapter 3) --- */
        .comparison-chart {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 20px 0;
            background: #fafafa;
            padding: 20px;
            border-radius: 8px;
        }

        .chart-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chart-label {
            width: 120px;
            font-weight: bold;
            font-size: 0.9em;
        }

        .chart-data {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 5px;
            margin: 0 15px;
        }

        .bar-container {
            display: flex;
            align-items: center;
            height: 20px;
            font-size: 0.8em;
        }

        .bar {
            height: 12px;
            border-radius: 6px;
            margin-right: 8px;
        }

        .bar.money { background-color: var(--money-color); }
        .bar.time { background-color: var(--time-color); }

        .psych-analysis {
            background-color: #fff;
            border-left: 4px solid #8e44ad;
            padding: 15px;
            margin-top: 15px;
            border-radius: 0 6px 6px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .psych-title {
            color: #8e44ad;
            font-weight: bold;
            margin-bottom: 8px;
            display: block;
        }

        /* --- Styles for Chapter 1 --- */
        .driver-container {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .driver-box {
            flex: 1;
            min-width: 280px;
            background: #fcfcfc;
            border: 1px solid #eee;
            border-top: 3px solid var(--accent-color);
            padding: 15px;
            border-radius: 6px;
        }
        
        .driver-title {
            font-weight: bold;
            color: var(--accent-color);
            margin-bottom: 8px;
            display: block;
        }

        .modern-list li {
            background: #fcfcfc;
            margin-bottom: 10px;
            padding: 10px 15px;
            border-left: 3px solid #bdc3c7;
        }
        
        .modern-title {
            font-weight: bold;
            color: var(--primary-color);
            margin-right: 5px;
        }

        .fact-box {
            background: #fff8e1;
            border: 1px solid #ffe0b2;
            color: #d35400;
            padding: 15px;
            border-radius: 6px;
            font-size: 0.95em;
        }

        .keywords-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .keyword {
            color: #555;
            background: #e0e0e0;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: 600;
        }

        footer {
            text-align: center;
            padding: 40px;
            color: var(--text-light);
            background: #e9ecef;
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            h1 { font-size: 1.8rem; }
            .driver-container { flex-direction: column; }
            .chart-row { flex-direction: column; align-items: flex-start; margin-bottom: 15px; }
            .chart-data { width: 100%; margin: 5px 0; }
        }
    /* ä¸»å®¹å™¨å¸ƒå±€è°ƒæ•´ - ç§»é™¤flexå¸ƒå±€ä»¥ä¿æŒåŸå§‹æ’ç‰ˆ */

.attachments-panel {
    width: 250px;
    background: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    height: fit-content;
    position: sticky;
    top: 20px;
    flex-shrink: 0;
    z-index: 1000;
    border: 1px solid #e0e0e0;
}
.attachments-panel h3 {
    color: #004085;
    margin-top: 0;
    margin-bottom: 15px;
    text-align: center;
    border-bottom: 2px solid #004085;
    padding-bottom: 10px;
}
.attachment-item {
    background-color: #f8f9fa;
    border: 1px solid #ced4da;
    border-radius: 5px;
    padding: 15px;
    margin-bottom: 15px;
    transition: all 0.3s ease;
}
.attachment-item:hover {
    background-color: #e9ecef;
    border-color: #004085;
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}
.attachment-item h4 {
    margin: 0 0 8px 0;
    color: #004085;
    font-size: 14px;
}
.attachment-item p {
    margin: 0 0 10px 0;
    font-size: 12px;
    color: #6c757d;
    line-height: 1.4;
}
.download-btn {
    display: inline-block;
    background-color: #28a745;
    color: white;
    text-decoration: none;
    padding: 8px 16px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: bold;
    transition: background-color 0.3s ease;
    width: 100%;
    text-align: center;
    box-sizing: border-box;
}
.download-btn:hover {
    background-color: #218838;
    text-decoration: none;
    color: white;
}
.download-btn:before {
    content: "â–¼ ";
    margin-right: 5px;
}

/* å¯æŠ˜å æµ®åŠ¨æ¡†æ ·å¼ */
.attachments-panel {
    position: fixed;
    top: 10px;
    right: 10px;
    width: auto; /* è‡ªé€‚åº”å®½åº¦ */
    min-width: 250px; /* æœ€å°å®½åº¦ */
    max-width: calc(100vw - 60px); /* æœ€å¤§å®½åº¦ï¼Œç•™å‡ºè¾¹è· */
    max-height: calc(100vh - 80px); /* ç•™å‡ºæ›´å¤šç©ºé—´é¿å…æ»šåŠ¨æ¡ */
    overflow-y: auto;
    overflow-x: hidden; /* éšè—æ¨ªå‘æ»šåŠ¨æ¡ */
    z-index: 9999;
    box-shadow: 0 8px 24px rgba(0,0,0,0.25);
    border: 2px solid #004085;
    transform: translateX(100%); /* é»˜è®¤å®Œå…¨éšè— */
    transition: transform 0.3s ease;
    /* è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼ */
    scrollbar-width: thin;
    scrollbar-color: #004085 #f0f0f0;
}

/* WebKitæµè§ˆå™¨æ»šåŠ¨æ¡æ ·å¼ */
.attachments-panel::-webkit-scrollbar {
    width: 6px;
}

.attachments-panel::-webkit-scrollbar-track {
    background: #f0f0f0;
    border-radius: 3px;
}

.attachments-panel::-webkit-scrollbar-thumb {
    background: #004085;
    border-radius: 3px;
}

.attachments-panel::-webkit-scrollbar-thumb:hover {
    background: #0056b3;
}

/* å±•å¼€æ—¶æ˜¾ç¤º */
.attachments-panel.expanded {
    transform: translateX(0);
}

/* ç§»é™¤containerçš„margin-rightè®¾ç½®ï¼Œä¿æŒåŸå§‹å¸ƒå±€ */

.attachment-item {
    width: 250px;
    margin-right: 0;
    display: block;
    margin-bottom: 12px;
    white-space: nowrap; /* é˜²æ­¢æ–‡æœ¬æ¢è¡Œå¯¼è‡´å®½åº¦è¿‡å¤§ */
}

.attachment-item h4 {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; /* é•¿æ–‡æœ¬æ˜¾ç¤ºçœç•¥å· */
    max-width: 100%;
}

.attachments-panel h3 {
    font-size: 16px;
    margin-bottom: 12px;
    white-space: nowrap; /* æ ‡é¢˜ä¸æ¢è¡Œ */
}

.attachments-panel a {
    white-space: nowrap; /* é“¾æ¥æ–‡æœ¬ä¸æ¢è¡Œ */
    overflow: hidden;
    text-overflow: ellipsis;
    display: inline-block;
    max-width: 100%;
}

/* æµ®åŠ¨åˆ‡æ¢æŒ‰é’® */
.float-toggle {
    position: fixed;
    top: 10px;
    right: 10px;
    width: 50px;
    height: 50px;
    background: #004085;
    color: white;
    border: none;
    border-radius: 50%;
    font-size: 20px;
    cursor: pointer;
    z-index: 10000;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.float-toggle:hover {
    background: #0056b3;
    transform: scale(1.1);
}

.float-toggle:active {
    transform: scale(0.95);
}

/* å½“é¢æ¿å±•å¼€æ—¶ï¼ŒæŒ‰é’®ä½ç½®åŠ¨æ€è°ƒæ•´ */
.attachments-panel.expanded ~ .float-toggle {
    right: 20px; /* ä¿æŒåœ¨é¢æ¿å·¦ä¾§çš„å›ºå®šä½ç½® */
    opacity: 0.7; /* å±•å¼€æ—¶é™ä½é€æ˜åº¦ï¼Œé¿å…é®æŒ¡ */
}
    </style>
</head>
<body>

    <header>
        <h1>å¸•é‡‘æ£®å®šå¾‹</h1>
        <div class="subtitle">è¡Œæ”¿å­¦ç ”ç©¶ç²¾è¦ Â· æ ¸å¿ƒäº¤äº’æ‘˜è¦</div>
    </header>

    <main id="container">
        <!-- JS will populate cards here -->
    </main>

    <footer>
        <p>åŸºäº C. Northcote Parkinson åŸè‘— (1957) </p>
    </footer>

    <script>
        const chapters = [
            {
                id: 1,
                title: "å¸•é‡‘æ£®å®šå¾‹ï¼šé‡‘å­—å¡”çš„ä¸Šå‡",
                law: "å·¥ä½œä¼šè‡ªåŠ¨è†¨èƒ€ï¼Œç›´è‡³å æ»¡æ‰€æœ‰å¯ç”¨çš„æ—¶é—´ã€‚",
                content_type: "rich", 
                content: `
                    <div class="detail-section">
                        <div class="detail-heading">è¯ç”ŸèƒŒæ™¯ä¸æ•°æ®æ”¯æ’‘</div>
                        <p>C. Northcote Parkinson é€šè¿‡ç ”ç©¶<strong>è‹±å›½æµ·å†›éƒ¨</strong>ï¼ˆ1914-1928ï¼‰çš„æ•°æ®å‘ç°äº†è¿™ä¸€è§„å¾‹ï¼š</p>
                        <div class="fact-box">
                            <ul>
                                <li><strong>ä½œæˆ˜ä¸»åŠ›å‡å°‘ï¼š</strong>èˆ°åªå‡å°‘67%ï¼Œå®˜å…µå‡å°‘31%ã€‚</li>
                                <li><strong>è¡Œæ”¿äººå‘˜æš´å¢ï¼š</strong>æµ·å†›éƒ¨æ–‡èŒå®˜å‘˜ï¼ˆååŠå…¬å®¤çš„ï¼‰åè€Œ<strong>å¢åŠ äº†78%</strong>ã€‚</li>
                            </ul>
                            <div style="margin-top:8px; font-size:0.9em;">ç»“è®ºï¼šå“ªæ€•æµ·å†›ä¸€è‰˜èˆ¹éƒ½æ²¡æœ‰äº†ï¼Œæ–‡èŒå®˜å‘˜ä¾ç„¶ä¼šç»§ç»­å¢é•¿ã€‚</div>
                        </div>
                    </div>

                    <div class="detail-section">
                        <div class="detail-heading">æ ¹æœ¬åŸå› ï¼šä¸¤å¤§é©±åŠ¨åŠ›</div>
                        <div class="driver-container">
                            <div class="driver-box">
                                <span class="driver-title">1. å®˜å‘˜æƒ³è¦ä¸‹å±ï¼Œè€Œéå¯¹æ‰‹</span>
                                <p>å½“å®˜å‘˜æ„Ÿåˆ°è¿‡åŠ³æ—¶ï¼Œæ‹›è˜ä¸¤ä¸ªä¸‹å±æ˜¯æœ€ä½³é€‰æ‹©ã€‚è¿™æ ·ä»–çš„åœ°ä½æå‡äº†ï¼Œä¸”ä¸‹å±äº’ç›¸åˆ¶è¡¡ï¼Œæ²¡äººèƒ½å¨èƒä»–ã€‚</p>
                            </div>
                            <div class="driver-box">
                                <span class="driver-title">2. å®˜å‘˜ä»¬å½¼æ­¤åˆ¶é€ å·¥ä½œ</span>
                                <p>åŸæœ¬ä¸€ä¸ªäººçš„å·¥ä½œç°åœ¨ç”±ä¸ƒä¸ªäººåšã€‚ä»–ä»¬å¿™äºå½¼æ­¤åè°ƒã€ä¼ é˜…æ–‡ä»¶ã€‚æ¯ä¸ªäººéƒ½åœ¨â€œå¿™ç¢Œâ€ï¼Œä½†éƒ½æ˜¯<strong>å†…éƒ¨æ¶ˆè€—</strong>ã€‚</p>
                            </div>
                        </div>
                    </div>
                `,
                keywords: ["è¡Œæ”¿å¢é•¿ç³»æ•°", "è‡ªæˆ‘ç¹æ®–", "å†…å·", "ç†µå¢"]
            },
            {
                id: 2,
                title: "äººæ°‘çš„æ„æ„¿ï¼šå¹´åº¦å¤§ä¼š",
                law: "ä¼šè®®çš„ç»“æœå–å†³äºåº§ä½å®‰æ’ï¼Œè€Œéè¾©è®ºã€‚",
                content_type: "simple",
                key_concept: "ä¸­é—´æ´¾ç­–ç•¥",
                summary: "åªè¦èƒ½å¤Ÿæ§åˆ¶æ¸¸ç¦»ä¸å®šã€å¬ä¸æ¸…æˆ–å¬ä¸æ‡‚çš„'ä¸­é—´æ´¾'ï¼Œå°±èƒ½æ§åˆ¶æŠ•ç¥¨ç»“æœã€‚æ¼”è®²çº¯å±æµªè´¹æ—¶é—´ã€‚",
                mechanism: "åœ†æ¡Œæˆ–æ–¹æ¡Œä¼šè®®ä¸­ï¼Œæ ¸å¿ƒæŠ€å·§æ˜¯å®‰æ’äº²ä¿¡åœ¨çŠ¹è±«è€…ä¸¤ä¾§ï¼Œåˆ¶é€ 'å¤šæ•°äººå·²åŒæ„'çš„å‡è±¡ï¼Œè®©å…¶ä»ä¼—ã€‚",
                fact: "ç­–ç•¥æ ¸å¿ƒï¼šè®©ä¸­é—´æ´¾è¿˜æ²¡ææ¸…æ¥šçŠ¶å†µå°±è·Ÿç€ä¸¾æ‰‹ã€‚",
                keywords: ["åº§ä½æ”¿æ²»", "ä»ä¼—å¿ƒç†", "ä¸­é—´é›†å›¢"]
            },
            {
                id: 3,
                title: "é«˜æ·±è´¢æ”¿ï¼šæ¶ˆå¤±çš„å…´è¶£ç‚¹",
                law: "ç”¨äºè®¨è®ºä¸€ä¸ªé¡¹ç›®çš„æ—¶é—´ï¼Œä¸è¯¥é¡¹ç›®æ¶‰åŠçš„é‡‘é¢æˆåæ¯”ã€‚",
                content_type: "rich", // è®¾ä¸ºRichä»¥å±•ç¤ºå›¾è¡¨
                content: `
                    <div class="detail-section">
                        <div class="detail-heading">æ ¸å¿ƒæ¡ˆä¾‹ï¼šè´¢æ”¿å§”å‘˜ä¼šçš„è®®ç¨‹</div>
                        <p>è´¢æ”¿å§”å‘˜ä¼šåœ¨ä¸€æ¬¡ä¼šè®®ä¸­è®¨è®ºäº†ä¸‰ä¸ªé¡¹ç›®ï¼Œç»“æœä»¤äººéœ‡æƒŠï¼š</p>
                        
                        <div class="comparison-chart">
                            <!-- Item 1 -->
                            <div class="chart-row">
                                <div class="chart-label">â˜¢ï¸ æ ¸ååº”å †</div>
                                <div class="chart-data">
                                    <div class="bar-container">
                                        <div class="bar money" style="width: 100%;"></div>
                                        <span>$10,000,000</span>
                                    </div>
                                    <div class="bar-container">
                                        <div class="bar time" style="width: 5%;"></div>
                                        <strong>2.5 åˆ†é’Ÿ (é€šè¿‡)</strong>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Item 2 -->
                            <div class="chart-row">
                                <div class="chart-label">ğŸš² è‡ªè¡Œè½¦æ£š</div>
                                <div class="chart-data">
                                    <div class="bar-container">
                                        <div class="bar money" style="width: 15%;"></div>
                                        <span>$2,350</span>
                                    </div>
                                    <div class="bar-container">
                                        <div class="bar time" style="width: 60%;"></div>
                                        <strong>45 åˆ†é’Ÿ (æ¿€çƒˆäº‰è®º)</strong>
                                    </div>
                                </div>
                            </div>

                             <!-- Item 3 -->
                            <div class="chart-row">
                                <div class="chart-label">â˜• å‘˜å·¥å’–å•¡</div>
                                <div class="chart-data">
                                    <div class="bar-container">
                                        <div class="bar money" style="width: 2%;"></div>
                                        <span>$57 / å¹´</span>
                                    </div>
                                    <div class="bar-container">
                                        <div class="bar time" style="width: 90%;"></div>
                                        <strong>1.25 å°æ—¶ (åƒµæŒä¸ä¸‹)</strong>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-section">
                        <div class="detail-heading">ä½œè€…çš„æ·±åº¦å¿ƒç†å‰–æï¼šä¸ºä»€ä¹ˆï¼Ÿ</div>
                        <p>è¿™ä¸ä»…ä»…æ˜¯æµªè´¹æ—¶é—´ï¼Œè¿™æ˜¯äººæ€§çš„å¿…ç„¶ï¼š</p>
                        
                        <div class="psych-analysis">
                            <span class="psych-title">1. æ ¸ååº”å †ï¼šæ— çŸ¥å¸¦æ¥çš„æ²‰é»˜</span>
                            <p>åœ¨ä¸€åƒä¸‡ç¾å…ƒçš„é¡¹ç›®é¢å‰ï¼Œå¤§éƒ¨åˆ†å§”å‘˜å®Œå…¨ä¸æ‡‚æŠ€æœ¯ç»†èŠ‚ã€‚å¦‚æœå¼€å£æé—®ï¼Œä¸ä»…å¯èƒ½æš´éœ²è‡ªå·±çš„æ— çŸ¥ï¼Œè¿˜å¯èƒ½è¢«ä¸“å®¶å˜²ç¬‘ã€‚å› æ­¤ï¼Œä¸ºäº†<strong>æ©é¥°æ— çŸ¥</strong>ï¼Œå¤§å®¶é€‰æ‹©ä¿æŒæ²‰é»˜å¹¶è¿…é€Ÿç‚¹å¤´é€šè¿‡ã€‚</p>
                        </div>
                        
                        <div class="psych-analysis">
                            <span class="psych-title">2. è‡ªè¡Œè½¦æ£šï¼šå¸¸è¯†å¸¦æ¥çš„è¡¨ç°æ¬²</span>
                            <p>æ‰€æœ‰äººéƒ½çŸ¥é“è½¦æ£šæ˜¯ä»€ä¹ˆï¼Œéƒ½çŸ¥é“çŸ³æ£‰é¡¶å’Œé“çš®é¡¶çš„åŒºåˆ«ã€‚è¿™é‡Œæ²¡æœ‰æŠ€æœ¯é—¨æ§›ã€‚ä¸ºäº†è¯æ˜è‡ªå·±<strong>â€œæ­£åœ¨å°½èŒå°½è´£åœ°å®¡æŸ¥é¢„ç®—â€</strong>ï¼ˆPulling their weightï¼‰ï¼Œæ¯ä¸ªäººéƒ½å¿…é¡»å‘è¨€ã€‚è¿™æ˜¯ä»–ä»¬å”¯ä¸€èƒ½å®‰å…¨å±•ç¤ºæƒå¨çš„é¢†åŸŸã€‚</p>
                        </div>

                        <div class="fact-box" style="margin-top:15px;">
                            <strong>ç»“è®ºï¼ˆçäº‹å®šå¾‹ï¼‰ï¼š</strong> é‡‘é¢è¶Šå°ï¼Œå¤„äºæ™®é€šäººç†è§£èŒƒå›´å†…çš„æ¦‚ç‡è¶Šé«˜ï¼Œå‚ä¸è®¨è®ºçš„äººå°±è¶Šå¤šï¼Œæµªè´¹çš„æ—¶é—´ä¹Ÿå°±è¶Šé•¿ã€‚
                        </div>
                    </div>
                `,
                keywords: ["çäº‹å®šå¾‹", "è®¤çŸ¥è´Ÿè·", "æ— æ•ˆä¼šè®®", "é¿é‡å°±è½»"]
            },
            {
                id: 4,
                title: "è‘£äº‹ä¸ç†äº‹ä¼šï¼šä½æ•ˆç³»æ•°",
                law: "å§”å‘˜ä¼šä¸€æ—¦è¶…è¿‡20-22äººï¼Œä¾¿å³åˆ»ä¸§å¤±å®é™…æ•ˆåŠ›ã€‚",
                content_type: "simple",
                key_concept: "æ— èƒ½ç³»æ•°",
                summary: "å§”å‘˜ä¼šå°±åƒæ¤ç‰©ä¸€æ ·ç”Ÿé•¿ã€‚ä¸€æ—¦è¶…è¿‡ä¸´ç•Œç‚¹ï¼Œæ ¸å¿ƒæƒåŠ›å°±ä¼šè½¬ç§»åˆ°ç”±3-5äººç»„æˆçš„å†…éƒ¨å°åœˆå­ã€‚",
                mechanism: "å½“æˆå‘˜è¿‡å¤šï¼šéš¾ä»¥å¬é›†ã€æœ‰äººè€³èƒŒã€å¼€å§‹å‘è¡¨æ­£å¼æ¼”è®²è€Œéå¯¹è¯ã€‚çœŸæ­£çš„å†³ç­–æ—©åœ¨ä¼šå‰ç”±å°‘æ•°äººå®šå¥½äº†ã€‚",
                fact: "è‹±å›½å†…é˜ã€æ¢å¯†é™¢ç­‰æœºæ„éƒ½åœ¨æˆå‘˜è¶…è¿‡20äººå·¦å³æ—¶å¼€å§‹è¡°è½æˆ–æƒåŠ›è½¬ç§»ã€‚",
                keywords: ["ç»„ç»‡è†¨èƒ€", "æ ¸å¿ƒåœˆå­", "å†³ç­–ç˜«ç—ª"]
            },
            {
                id: 5,
                title: "å€™é€‰äººåå•ï¼šé€‰æ‹©çš„åŸåˆ™",
                law: "å®Œç¾çš„æ‹›è˜å¹¿å‘Šåº”å½“åªå¸å¼•å”¯ä¸€çš„ä¸€ä½åˆæ ¼ç”³è¯·è€…ã€‚",
                content_type: "simple",
                key_concept: "è´Ÿå‘ç­›é€‰",
                summary: "ç°ä»£å¿ƒç†æµ‹è¯•é€‰å‡ºçš„æ˜¯å¹³åº¸ä¹‹è¾ˆã€‚æ­£ç¡®çš„åšæ³•æ˜¯è®¾å®šæé«˜çš„é—¨æ§›ï¼ˆç”šè‡³è’è°¬çš„æ¡ä»¶ï¼‰ï¼Œå“é€€æ‰€æœ‰ä¸åˆé€‚çš„äººã€‚",
                mechanism: "åœ¨å¹¿å‘Šä¸­å¹³è¡¡è–ªèµ„ä¸å±é™©/éš¾åº¦ï¼Œä½¿å¾—åªæœ‰ä¸€ä¸ªè¿™ç§'ç–¯å­'ä¼šæ¥ç”³è¯·â€”â€”è€Œä»–æ­£æ˜¯ä½ éœ€è¦çš„ã€‚",
                fact: "æ¡ˆä¾‹ï¼šæ‹›è˜é¦–ç›¸åº”è¯¥è¦æ±‚ä»–èƒ½å’Œæ‹³ç‹æ‰“ä¸‰ä¸ªå›åˆï¼Œå¹¶åœ¨æ°‘è°ƒä¸­è·å¾—ä¸å¯èƒ½çš„é«˜ç¥¨ã€‚",
                keywords: ["ç²¾å‡†æ‹›è˜", "é—¨æ§›è®¾ç½®", "é€†å‘æ€ç»´"]
            },
            {
                id: 6,
                title: "è§„åˆ’ä¸å»ºç­‘ï¼šè¡Œæ”¿å¤§æ¥¼",
                law: "å®Œç¾çš„å¸ƒå±€è®¾è®¡åªä¼šåœ¨æœºæ„å´©æºƒçš„å‰å¤œè¾¾æˆã€‚",
                content_type: "simple",
                key_concept: "å®Œç¾å³æ­»äº¡",
                summary: "å½“å®ä¼Ÿã€å®Œç¾çš„æ€»éƒ¨å¤§æ¥¼å»ºæˆæ—¶ï¼Œå¾€å¾€æ ‡å¿—ç€è¯¥æœºæ„å·²è¿›å…¥è¡°é€€æœŸæˆ–å˜å¾—åƒµåŒ–ã€‚",
                mechanism: "å› ä¸ºè§„åˆ’å®Œç¾çš„å¤§æ¥¼éœ€è¦æ—¶é—´ï¼Œè¿™æœŸé—´æœºæ„å·²ç»ä»å¥‹æ–—æœŸè½¬å…¥å®ˆæˆæœŸã€‚",
                fact: "å‡¡å°”èµ›å®«å»ºæˆæ—¶è·¯æ˜“åå››æƒåŠ›å·²è¡°ï¼›æ–°å¾·é‡Œå»ºæˆæ—¶è‹±å¸å›½å·²å¤±å»å°åº¦ã€‚",
                keywords: ["å»ºç­‘å†³å®šè®º", "ç››æè€Œè¡°", "å½¢å¼ä¸»ä¹‰"]
            },
            {
                id: 7,
                title: "ä¸ªæ€§ç­›é€‰ï¼šé¸¡å°¾é…’ä¼šå…¬å¼",
                law: "é‡è¦äººç‰©ä¼šé¡ºæ—¶é’ˆç§»åŠ¨ï¼Œå¹¶åœ¨ç‰¹å®šæ—¶é—´èšé›†åœ¨ç‰¹å®šåŒºåŸŸã€‚",
                content_type: "simple",
                key_concept: "ç¤¾äº¤æµä½“åŠ›å­¦",
                summary: "æƒ³è¦åœ¨é…’ä¼šä¸Šè¯†åˆ«å…³é”®äººç‰©ï¼Ÿä¸è¦çœ‹å¤´è¡”ï¼Œçœ‹è¡Œä¸ºæ¨¡å¼ã€‚äººç¾¤è‡ªç„¶å·¦å€¾ï¼ˆé¡ºæ—¶é’ˆï¼‰ï¼Œå› ä¸ºè¿™æ˜¯é˜²å¾¡å§¿æ€ã€‚",
                mechanism: "é‡è¦äººç‰©åˆ°è¾¾æ—¶é—´å…¬å¼ï¼šå¼€å§‹æ—¶é—´ + 45åˆ†é’Ÿã€‚ä»–ä»¬åœ¨ç‰¹å®šåŒºåŸŸçŸ­æš‚åœç•™åè¿…é€Ÿç¦»å¼€ã€‚",
                fact: "å®éªŒè§‚å¯Ÿï¼šä¸ºäº†é¿å¼€è§’è½çš„èƒ†å°é¬¼å’Œä¸­é—´çš„æ€ªäººï¼Œé‡è¦äººç‰©éš'æ´‹æµ'ç§»åŠ¨ã€‚",
                keywords: ["ç¤¾äº¤åˆ†æ", "ç¾¤ä½“è¡Œä¸º", "æƒåŠ›è¯†åˆ«"]
            },
            {
                id: 8,
                title: "å«‰å¦’æ— èƒ½ç—‡ï¼šä¸€ç§éº»ç—¹ç—‡",
                law: "äºŒæµé¢†å¯¼å¿…ç„¶æ‹›å‹Ÿä¸‰æµä¸‹å±ï¼Œæœ€ç»ˆå¯¼è‡´ç»„ç»‡æ™ºåŠ›åæ­»ã€‚",
                content_type: "simple",
                key_concept: "Injelititis (å«‰å¦’æ— èƒ½ç—‡)",
                summary: "å½“ä¸”ä»…å½“ç”±äºé«˜åº¦çš„æ— èƒ½(Incompetence)å’Œå«‰å¦’(Jealousy)ç»“åˆæ—¶çˆ†å‘ã€‚",
                mechanism: "ç¬¬ä¸€é˜¶æ®µï¼šæ’æŒ¤èƒ½äººã€‚ç¬¬äºŒé˜¶æ®µï¼šè‡ªé¸£å¾—æ„ã€‚ç¬¬ä¸‰é˜¶æ®µï¼šç»„ç»‡æ­»äº¡ã€‚",
                fact: "è¯Šæ–­æ–¹æ³•ï¼šå¦‚æœåœ¨é£Ÿå ‚çœ‹åˆ°é£Ÿç‰©éš¾åƒä¸”ç¯å¢ƒè‚®è„ï¼Œä½†é«˜ç®¡å´å¯¹æ­¤æ²¾æ²¾è‡ªå–œï¼Œè¯¥ç»„ç»‡å·²ç—…å…¥è†è‚“ã€‚",
                keywords: ["å¹³åº¸åŒ–", "é€†å‘æ·˜æ±°", "ç»„ç»‡ç—…å˜"]
            },
            {
                id: 9,
                title: "ä»èŒ…å±‹åˆ°å¸•å¡å¾·ï¼šæˆåŠŸå…¬å¼",
                law: "é€šè¿‡ä¼ªè£…è´«ç©·æ¥è§„é¿å‹’ç´¢ä¸ç¨æ”¶ã€‚",
                content_type: "simple",
                key_concept: "çŒçŠ¬å£å’ (Hound Barrier)",
                summary: "åŸºäºå¯¹äºšæ´²å¯Œè±ªçš„ç ”ç©¶ã€‚çœŸæ­£çš„å¯Œè±ªå¿…é¡»ä½åœ¨è´«æ°‘çªŸé‡Œä»¥é¿å…è¢«é»‘ç¤¾ä¼šå‹’ç´¢æˆ–ç¨åŠ¡å±€ç›¯ä¸Šã€‚",
                mechanism: "å½“å‹’ç´¢é‡‘é¢ > ç»´æŒè±ªå®…å’Œä¿é•–çš„æˆæœ¬æ—¶ï¼Œå¯Œè±ªæ‰ä¼šæ¬å®¶ã€‚",
                fact: "ä¸­å›½å¼é¿ç¨æ³•ï¼šé€šè¿‡åˆ¶é€ æ··ä¹±ï¼ˆå¦‚é¢„ä»˜å¥‡æ€ªé‡‘é¢ï¼‰è®©å®˜åƒšç³»ç»Ÿå´©æºƒä»è€Œè·å¾—å…ç–«ã€‚",
                keywords: ["è´¢å¯Œä¼ªè£…", "æˆæœ¬åšå¼ˆ", "ç³»ç»Ÿå¹²æ‰°"]
            },
            {
                id: 10,
                title: "é€€ä¼‘ç‚¹ï¼šé€€ä¼‘å¹´é¾„",
                law: "é€€ä¼‘å¹´é¾„ä¸åº”å–å†³äºç°ä»»è€…çš„è¡°è€ï¼Œè€Œåº”å–å†³äºç»§ä»»è€…çš„å¿è€æé™ã€‚",
                content_type: "simple",
                key_concept: "å¼ºåˆ¶é€€ä¼‘æœ¯",
                summary: "å¿…é¡»å¼ºè¿«ç°ä»»è€…(X)åœ¨ç»§ä»»è€…(Y)èƒ½åŠ›è¡°é€€å‰é€€ä¼‘ã€‚",
                mechanism: "ç°ä»£æœ€æœ‰æ•ˆçš„é€¼é€€æŠ€æœ¯ï¼šé¢‘ç¹çš„ç©ºä¸­æ—…è¡Œï¼ˆåˆ¶é€ æ—¶å·®ç–²åŠ³ï¼‰+ ç¹ççš„è¡¨æ ¼å¡«å†™ï¼ˆç²¾ç¥æŠ˜ç£¨ï¼‰ã€‚",
                fact: "é€šè¿‡å®‰æ’è¿ç»­çš„ã€è·¨æ—¶åŒºçš„å›½é™…ä¼šè®®ï¼Œè®©é¢†å¯¼è€…åœ¨æ–‡ä¹¦å·¥ä½œå’Œé£è¡Œä¸­'è‡ªç„¶'å´©æºƒã€‚",
                keywords: ["ç»§ä»»å±æœº", "ç²¾åŠ›è€—å°½", "è¡¨æ ¼æŠ˜ç£¨"]
            }
        ];

        const container = document.getElementById('container');

        chapters.forEach(chapter => {
            const card = document.createElement('div');
            card.className = 'card';
            
            let detailsContent = '';
            
            if (chapter.content_type === 'rich') {
                detailsContent = `
                    ${chapter.content}
                    <div class="keywords-container">
                        ${chapter.keywords.map(k => `<span class="keyword">${k}</span>`).join('')}
                    </div>
                `;
            } else {
                detailsContent = `
                    <div class="detail-section">
                        <div class="detail-heading">æ ¸å¿ƒæ¦‚å¿µ: ${chapter.key_concept}</div>
                        <p>${chapter.summary}</p>
                    </div>

                    <div class="detail-section">
                        <div class="detail-heading">è¿ä½œæœºåˆ¶</div>
                        <p>${chapter.mechanism}</p>
                    </div>

                    <div class="fact-box">
                        <strong>äº‹å®ä¸ç°è±¡ï¼š</strong> ${chapter.fact}
                    </div>

                    <div class="keywords-container">
                        ${chapter.keywords.map(k => `<span class="keyword">${k}</span>`).join('')}
                    </div>
                `;
            }

            card.innerHTML = `
                <div class="card-header">
                    <span class="card-number">Chapter ${chapter.id}</span>
                    <div class="toggle-icon">â–¼</div>
                </div>
                <h2 class="card-title">${chapter.title}</h2>
                <div class="core-law">${chapter.law}</div>
                
                <div class="details">
                    ${detailsContent}
                </div>
            `;

            card.addEventListener('click', () => {
                const isActive = card.classList.contains('active');
                document.querySelectorAll('.card').forEach(c => c.classList.remove('active'));
                if (!isActive) {
                    card.classList.add('active');
                }
            });

            container.appendChild(card);
        });
    </script>

<div class="attachments-panel" id="attachments-panel">
    <h3>åŸæ–‡</h3>
    <a href="book_parkinsons_law_files/book.html" target="_blank">æºé“¾æ¥</a>
</div>
<button class="float-toggle" id="float-toggle" title="æ‰“å¼€é™„ä»¶é¢æ¿">â—</button>
<script>
// æµ®åŠ¨æ¡†å±•å¼€/æ”¶èµ·åŠŸèƒ½
document.addEventListener('DOMContentLoaded', function() {
    const panel = document.getElementById('attachments-panel');
    const toggleBtn = document.getElementById('float-toggle');
    
    if (!panel || !toggleBtn) return;
    
    // åˆ‡æ¢é¢æ¿æ˜¾ç¤ºçŠ¶æ€
    function togglePanel() {
        panel.classList.toggle('expanded');
        // æ›´æ–°æŒ‰é’®å›¾æ ‡
        const isExpanded = panel.classList.contains('expanded');
        toggleBtn.textContent = isExpanded ? 'â–·' : 'â—';
        toggleBtn.title = isExpanded ? 'å…³é—­é™„ä»¶é¢æ¿' : 'æ‰“å¼€é™„ä»¶é¢æ¿';
        
        // åŠ¨æ€è°ƒæ•´æŒ‰é’®ä½ç½®
        if (isExpanded) {
            // ç­‰å¾…é¢æ¿å±•å¼€åŠ¨ç”»å®Œæˆåè°ƒæ•´æŒ‰é’®ä½ç½®
            setTimeout(() => {
                const panelWidth = panel.offsetWidth;
                toggleBtn.style.right = (panelWidth + 30) + 'px';
            }, 300);
        } else {
            toggleBtn.style.right = '10px';
        }
    }
    
    // ç‚¹å‡»åˆ‡æ¢æŒ‰é’®
    toggleBtn.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        togglePanel();
    });
    
    // ç‚¹å‡»é¡µé¢å…¶ä»–åœ°æ–¹æ—¶æ”¶èµ·é¢æ¿
    document.addEventListener('click', function(e) {
        const isClickOnPanel = panel.contains(e.target);
        const isClickOnToggle = toggleBtn.contains(e.target);
        
        if (!isClickOnPanel && !isClickOnToggle) {
            panel.classList.remove('expanded');
            toggleBtn.textContent = 'â—';
            toggleBtn.title = 'æ‰“å¼€é™„ä»¶é¢æ¿';
            toggleBtn.style.right = '10px'; // é‡ç½®æŒ‰é’®ä½ç½®
        }
    });
    
    // ESCé”®å…³é—­é¢æ¿
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && panel.classList.contains('expanded')) {
            panel.classList.remove('expanded');
            toggleBtn.textContent = 'â—';
            toggleBtn.title = 'æ‰“å¼€é™„ä»¶é¢æ¿';
            toggleBtn.style.right = '10px'; // é‡ç½®æŒ‰é’®ä½ç½®
        }
    });
});
</script>
</body>
</html>