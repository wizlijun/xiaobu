<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>《敏捷对话》核心摘要</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap');

        :root {
            --primary-color: #4a90e2;
            --secondary-color: #f4f8ff;
            --text-color: #333;
            --light-text-color: #555;
            --border-color: #e0e0e0;
            --highlight-bg: #eaf2ff;
            --success-color: #5cb85c;
            --danger-color: #d9534f;
            --shadow-color: rgba(0, 0, 0, 0.08);
        }

        body {
            font-family: 'Noto Sans SC', sans-serif;
            line-height: 1.8;
            background-color: #ffffff;
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            font-size: 16px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: white;
            padding: 20px 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px var(--shadow-color);
        }

        header {
            text-align: center;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 20px;
            margin-bottom: 30px;
        }

        header h1 {
            color: var(--primary-color);
            font-weight: 700;
            font-size: 2.2em;
            margin: 0;
        }

        header p {
            font-size: 1.1em;
            color: var(--light-text-color);
            margin-top: 5px;
        }

        .accordion-item {
            background-color: #fff;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin-bottom: 15px;
            overflow: hidden;
            transition: all 0.3s ease-in-out;
        }

        .accordion-item:hover {
            box-shadow: 0 2px 10px var(--shadow-color);
            border-color: var(--primary-color);
        }
        
        .accordion-header {
            background-color: var(--secondary-color);
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.3s ease;
        }
        
        .accordion-header:hover {
            background-color: var(--highlight-bg);
        }

        .accordion-header h2 {
            margin: 0;
            font-size: 1.3em;
            color: var(--primary-color);
            font-weight: 500;
        }

        .accordion-header .icon {
            font-size: 1.5em;
            transition: transform 0.3s ease;
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            padding: 0 20px;
            transition: max-height 0.4s ease-out, padding 0.4s ease-out;
        }
        
        .content-inner {
            padding: 20px 0;
            border-top: 1px solid var(--border-color);
        }

        .accordion-item.active .accordion-content {
            max-height: 3000px; /* Adjust as needed */
        }
        
        .accordion-item.active .accordion-header .icon {
            transform: rotate(45deg);
        }

        .fact, .opinion {
            padding: 10px 15px;
            border-radius: 6px;
            margin: 10px 0;
            border-left: 4px solid;
        }

        .fact {
            background-color: #e8f5e9;
            border-color: var(--success-color);
        }

        .opinion {
            background-color: #fff3e0;
            border-color: #ffa726;
        }

        .key-term {
            color: var(--primary-color);
            font-weight: 600;
            cursor: pointer;
            border-bottom: 1px dashed var(--primary-color);
            position: relative;
        }
        
        .tooltip {
            visibility: hidden;
            width: 250px;
            background-color: #555;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -125px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.9em;
            font-weight: 400;
        }

        .tooltip::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #555 transparent transparent transparent;
        }

        .key-term:hover .tooltip {
            visibility: visible;
            opacity: 1;
        }
        
        h3 {
            font-weight: 600;
            color: #444;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
            margin-top: 20px;
        }

        ul {
            list-style-type: '✓ ';
            padding-left: 20px;
        }
        li {
            margin-bottom: 10px;
        }

        .summary-box {
            background-color: var(--secondary-color);
            border: 1px solid var(--primary-color);
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        .summary-box h3 {
            margin-top: 0;
        }
    /* 主容器布局调整 - 移除flex布局以保持原始排版 */

.attachments-panel {
    width: 250px;
    background: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    height: fit-content;
    position: sticky;
    top: 20px;
    flex-shrink: 0;
    z-index: 1000;
    border: 1px solid #e0e0e0;
}
.attachments-panel h3 {
    color: #004085;
    margin-top: 0;
    margin-bottom: 15px;
    text-align: center;
    border-bottom: 2px solid #004085;
    padding-bottom: 10px;
}
.attachment-item {
    background-color: #f8f9fa;
    border: 1px solid #ced4da;
    border-radius: 5px;
    padding: 15px;
    margin-bottom: 15px;
    transition: all 0.3s ease;
}
.attachment-item:hover {
    background-color: #e9ecef;
    border-color: #004085;
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}
.attachment-item h4 {
    margin: 0 0 8px 0;
    color: #004085;
    font-size: 14px;
}
.attachment-item p {
    margin: 0 0 10px 0;
    font-size: 12px;
    color: #6c757d;
    line-height: 1.4;
}
.download-btn {
    display: inline-block;
    background-color: #28a745;
    color: white;
    text-decoration: none;
    padding: 8px 16px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: bold;
    transition: background-color 0.3s ease;
    width: 100%;
    text-align: center;
    box-sizing: border-box;
}
.download-btn:hover {
    background-color: #218838;
    text-decoration: none;
    color: white;
}
.download-btn:before {
    content: "▼ ";
    margin-right: 5px;
}

/* 可折叠浮动框样式 */
.attachments-panel {
    position: fixed;
    top: 10px;
    right: 10px;
    width: auto; /* 自适应宽度 */
    min-width: 250px; /* 最小宽度 */
    max-width: calc(100vw - 60px); /* 最大宽度，留出边距 */
    max-height: calc(100vh - 80px); /* 留出更多空间避免滚动条 */
    overflow-y: auto;
    overflow-x: hidden; /* 隐藏横向滚动条 */
    z-index: 9999;
    box-shadow: 0 8px 24px rgba(0,0,0,0.25);
    border: 2px solid #004085;
    transform: translateX(100%); /* 默认完全隐藏 */
    transition: transform 0.3s ease;
    /* 自定义滚动条样式 */
    scrollbar-width: thin;
    scrollbar-color: #004085 #f0f0f0;
}

/* WebKit浏览器滚动条样式 */
.attachments-panel::-webkit-scrollbar {
    width: 6px;
}

.attachments-panel::-webkit-scrollbar-track {
    background: #f0f0f0;
    border-radius: 3px;
}

.attachments-panel::-webkit-scrollbar-thumb {
    background: #004085;
    border-radius: 3px;
}

.attachments-panel::-webkit-scrollbar-thumb:hover {
    background: #0056b3;
}

/* 展开时显示 */
.attachments-panel.expanded {
    transform: translateX(0);
}

/* 移除container的margin-right设置，保持原始布局 */

.attachment-item {
    width: 250px;
    margin-right: 0;
    display: block;
    margin-bottom: 12px;
    white-space: nowrap; /* 防止文本换行导致宽度过大 */
}

.attachment-item h4 {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; /* 长文本显示省略号 */
    max-width: 100%;
}

.attachments-panel h3 {
    font-size: 16px;
    margin-bottom: 12px;
    white-space: nowrap; /* 标题不换行 */
}

.attachments-panel a {
    white-space: nowrap; /* 链接文本不换行 */
    overflow: hidden;
    text-overflow: ellipsis;
    display: inline-block;
    max-width: 100%;
}

/* 浮动切换按钮 */
.float-toggle {
    position: fixed;
    top: 10px;
    right: 10px;
    width: 50px;
    height: 50px;
    background: #004085;
    color: white;
    border: none;
    border-radius: 50%;
    font-size: 20px;
    cursor: pointer;
    z-index: 10000;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.float-toggle:hover {
    background: #0056b3;
    transform: scale(1.1);
}

.float-toggle:active {
    transform: scale(0.95);
}

/* 当面板展开时，按钮位置动态调整 */
.attachments-panel.expanded ~ .float-toggle {
    right: 20px; /* 保持在面板左侧的固定位置 */
    opacity: 0.7; /* 展开时降低透明度，避免遮挡 */
}
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>《敏捷对话》</h1>
        <p>通过改变对话，来改变你的文化</p>
    </header>

    <main>
        <div class="accordion-item">
            <div class="accordion-header">
                <h2>核心背景：为何需要新对话方式？</h2>
                <span class="icon">+</span>
            </div>
            <div class="accordion-content">
                <div class="content-inner">
                    <p>本书的出发点是诊断现代软件开发中普遍存在的问题：<strong>转型流于表面，文化根基未变</strong>。</p>
                    <h3>历史根源：从泰勒主义到“软件工厂”</h3>
                    <div class="opinion">
                        <strong>观点：</strong> 20世纪90年代的软件行业深受<span class="key-term">泰勒主义 (Taylorism)<span class="tooltip">一种管理哲学，强调将工作科学地分解为简单、重复的任务，由管理者设计最佳流程，工人只需执行，无需思考或沟通。</span></span>影响，将开发团队视为“软件工厂”。在这种模式下，人是可替换的零件，沟通是自上而下的指令，协作被严格的文档和流程所取代。
                    </div>
                     <div class="fact">
                        <strong>事实：</strong> 这种模式导致了灾难性的后果。著名的1994年<span class="key-term">CHAOS报告<span class="tooltip">由Standish Group发布，揭示了当时软件项目惊人的失败率。</span></span>指出，当时只有16%的软件项目能按时、按预算完成，31%的项目被直接取消。这暴露了“文档驱动”开发的巨大失败。
                    </div>
                    <h3>变革的浪潮与新的困境</h3>
                    <p>为了应对危机，敏捷、精益、DevOps等<span class="key-term">以人为本 (People-Centric)<span class="tooltip">强调个体互动、团队协作和人类独特能力（如创造力、适应性）重要性的方法论。</span></span>的运动应运而生。它们的核心思想是：项目的成功首要取决于人及其互动，而非流程和工具。</p>
                     <div class="opinion">
                        <strong>观点：</strong> 然而，许多组织在采纳这些新方法时，再次犯了同样的错误。他们将敏捷/DevOps视为一套新的、需要严格遵守的仪式（如开站会、用看板），却忽视了其背后对透明、好奇和协作的文化要求。结果，团队从“软件工厂”滑入了“功能工厂”，依然缺乏自主性、目标感和高效的沟通，这正是本书试图解决的核心问题。
                    </div>
                </div>
            </div>
        </div>
        
        <div class="accordion-item">
            <div class="accordion-header">
                <h2>对话的深层意义：人类的“秘密武器”</h2>
                <span class="icon">+</span>
            </div>
            <div class="accordion-content">
                <div class="content-inner">
                    <p>本书强调，对话不仅是交流工具，更是<strong>人类之所以能主宰地球、并进行大规模协作的根本原因</strong>。</p>
                    <div class="fact">
                        <strong>事实（引用《人类简史》）：</strong> 人类语言最独特之处在于能够讨论<strong>不存在的事物</strong>（例如神、国家、法律、公司文化）。这种能力使我们能够创造并相信“共同的故事”或“共享的虚构”，从而让成千上万甚至数百万互不相识的人为了一个共同的目标而协作。
                    </div>
                    <h3>对话的力量与缺陷</h3>
                    <ul>
                        <li><strong>协作的引擎：</strong> 在团队中，高质量的对话能创造出这种“共同的故事”——例如对“质量”的共同理解、对公司使命的共同信念。这是团队凝聚力和生产力的来源。</li>
                        <li><strong>天生的障碍：</strong> 尽管对话如此强大，但我们的思维天生存在缺陷。我们受到各种<span class="key-term">认知偏误 (Cognitive Biases)<span class="tooltip">大脑在处理信息时固有的、系统性的思维捷径，它们会导致判断失准。例如“虚假共识效应”——高估他人与自己想法的一致性。</span></span>的影响，这些偏误会阻碍我们进行开放、诚实的沟通，让我们倾向于捍卫自己的观点，而不是去理解他人和共同学习。</li>
                    </ul>
                     <div class="opinion">
                        <strong>观点：</strong> 这就是为什么“进行更好的对话”是一项需要刻意学习和练习的<strong>技能</strong>。它要求我们克服天生的思维惯性，有意识地运用技巧来促进透明和好奇，从而真正发挥出对话这一“秘密武器”的全部潜力，最终提升团队协作效率和生产力。
                    </div>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header">
                <h2>核心技巧：四个R与双栏分析</h2>
                <span class="icon">+</span>
            </div>
            <div class="accordion-content">
                <div class="content-inner">
                    <p>为了从对话中学习和改进，作者提供了一套强大的实践框架。</p>
                    <h3>四个 R (The Four Rs)</h3>
                    <ul>
                        <li><strong>记录 (Record):</strong> 将一次棘手的对话写下来。这是拉开距离、客观分析的第一步。</li>
                        <li><strong>反思 (Reflect):</strong> 分析对话，找出问题所在。</li>
                        <li><strong>修订 (Revise):</strong> 重写对话，思考如何能做得更好。</li>
                        <li><strong>角色扮演 (Role Play):</strong> 将修订后的对话大声说出来，与他人演练，使其变得自然。</li>
                    </ul>
                     <h3>双栏对话分析 (Two-Column Conversational Analysis)</h3>
                    <div class="fact">
                        <strong>核心工具：</strong> 这是“记录”步骤的具体方法。在一张纸上画两栏：<br>
                        - <strong>右栏：实际说了什么</strong> - 客观记录对话内容。<br>
                        - <strong>左栏：我当时的想法和感受</strong> - 诚实地写下未说出口的内心活动。
                    </div>
                    <p>通过对比左右两栏的差异，我们可以清晰地看到自己缺乏<span class="key-term">透明(Transparency)<span class="tooltip">坦率地分享你的信息、推理和感受。</span></span>和<span class="key-term">好奇(Curiosity)<span class="tooltip">真诚地想要了解他人的信息、推理和感受。</span></span>的地方，这是反思和改进的关键。例如，使用“<span class="key-term">问题分数<span class="tooltip">Question Fraction - 你提出的“真诚问题”数量 / 问题总数。衡量你的好奇心程度。</span></span>”来评估你的好奇心。</p>
                </div>
            </div>
        </div>
        
        <div class="accordion-item">
            <div class="accordion-header">
                <h2>信任对话 (The Trust Conversation)</h2>
                <span class="icon">+</span>
            </div>
            <div class="accordion-content">
                <div class="content-inner">
                    <p><strong>目标：</strong> 对齐故事 (Align Stories)。信任的本质是，我们对彼此的行为有着共同且被验证过的预期。</p>
                    <h3>准备工作</h3>
                    <ul>
                        <li><strong>展现脆弱 (Be Vulnerable):</strong> 分享你的不确定性和推理过程。使用“我告诉自己的故事是……”这样的句式来表达你的观点，表明它并非绝对事实。</li>
                        <li><strong>保持可预测 (Be Predictable):</strong> 言行一致，让你的行为与你的承诺相匹配。</li>
                    </ul>
                    <h3>核心技巧：面向人的测试驱动开发 (TDD for People)</h3>
                     <p>这个技巧基于<span class="key-term">推论之梯 (Ladder of Inference)<span class="tooltip">一个描述我们如何从观察数据到采取行动的思维模型。我们常常会跳过中间环节直接得出结论。</span></span>。对话时，要从梯子的最底层开始，逐级向上，每一步都通过提问来验证双方的理解是否一致。</p>
                     <div class="fact">
                        <strong>推论之梯的层级：</strong><br>
                        7. 采取行动 (Actions)<br>
                        6. 形成信念 (Beliefs)<br>
                        5. 得出结论 (Conclusions)<br>
                        4. 做出假设 (Assumptions)<br>
                        3. 赋予意义 (Meanings)<br>
                        2. 选择数据 (Selected Data)<br>
                        1. 可观察数据 (Observable Data)<br>
                        <strong>操作：</strong> 从“可观察数据”开始，问“我听到你说...，我的理解对吗？” 如果对方确认（测试通过），再进入下一层，问“这对我来说意味着...，你也是这么看的吗？”。如果出现分歧（测试失败），停下来澄清，直到达成一致再继续。
                    </div>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header">
                <h2>恐惧对话 (The Fear Conversation)</h2>
                <span class="icon">+</span>
            </div>
            <div class="accordion-content">
                <div class="content-inner">
                    <p><strong>目标：</strong> 创造<span class="key-term">心理安全 (Psychological Safety)<span class="tooltip">一种团队氛围，成员们相信在这里可以安全地承担人际风险，例如承认错误或提出不同意见。</span></span>，让恐惧可以被公开讨论和缓解。恐惧会扼杀创新和协作。</p>
                    <h3>准备工作</h3>
                    <ul>
                        <li><strong>识别“偏差正常化” (Normalization of Deviance):</strong> 寻找那些“本不该如此，但我们习以为常”的危险行为（例如：忽略不稳定的自动化测试）。这些行为背后往往隐藏着未被言明的恐惧。</li>
                        <li><strong>练习“打破连贯性” (Coherence Busting):</strong> 当你对某件事有一个快速、连贯的解释时（例如“他迟到是因为他不在乎”），强迫自己想出至少3个其他完全不同的、甚至不靠谱的解释（例如“他的车坏了”、“他被外星人绑架了”）。这能打破你的思维定势，让你保持好奇。</li>
                    </ul>
                    <h3>核心技巧：恐惧图表 (The Fear Chart)</h3>
                    <p>与团队一起，通过一个结构化的过程来识别和处理恐惧：</p>
                    <ol>
                        <li><strong>头脑风暴：</strong> 列出所有可能的恐惧（个人、团队、项目相关的）。</li>
                        <li><strong>分类和筛选：</strong> 将恐惧进行分组，并通过点票等方式选出最需要解决的几个。</li>
                        <li><strong>制定缓解措施：</strong> 针对每个关键恐惧，共同设计具体的、可执行的缓解方案，并指定负责人。</li>
                        <li><strong>公之于众：</strong> 将图表贴在团队可见的地方，并定期回顾。</li>
                    </ol>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header">
                <h2>“为何”对话 (The Why Conversation)</h2>
                <span class="icon">+</span>
            </div>
            <div class="accordion-content">
                <div class="content-inner">
                    <p><strong>目标：</strong> <span class="key-term">共同设计 (Joint Design)<span class="tooltip">一个包含所有相关人员、鼓励不同意见、有明确决策规则和时间限制的决策过程。</span></span>一个能激励人心的共同目标 (Why)。一个强加的“为何”无法带来真正的动力。</p>
                    <div class="opinion">
                        <strong>重要前提：</strong> 不要急于“从‘为何’开始”(Start with Why)。如果团队缺乏信任和心理安全，任何宏大的目标都会显得虚假和无效。必须先完成前两个对话。
                    </div>
                    <h3>核心技巧</h3>
                    <ul>
                        <li><strong>关注利益，而非立场 (Interests, Not Positions):</strong> 立场是你想要的“什么”（例如“我们必须用React框架”），利益是你想要它的“为什么”（例如“为了更快地招聘前端”）。当陷入立场之争时，转而探寻和讨论双方背后的共同利益。</li>
                        <li><strong>倡导与探询相结合 (Advocacy & Inquiry):</strong> 清晰地陈述你的观点和理由（倡导），然后真诚地询问他人的看法（探询）。例如：“我的看法是...，理由是...。你是怎么看的？我的推理有什么漏洞吗？”</li>
                        <li><strong>共同设计流程：</strong> 决策时，确保（1）囊括所有人；（2）提出真诚问题；（3）鼓励反对意见；（4）设定时间限制；（5）明确决策规则（谁最终决定）。这能带来真正的<span class="key-term">内在承诺 (Internal Commitment)<span class="tooltip">人们发自内心地认同并致力于某项决定，而不是仅仅因为被要求而服从。</span></span>。</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header">
                <h2>承诺对话 (The Commitment Conversation)</h2>
                <span class="icon">+</span>
            </div>
            <div class="accordion-content">
                <div class="content-inner">
                    <p><strong>目标：</strong> 从仅仅是“遵从”转变为发自内心的“承诺”。可靠的承诺是高效执行的基础。</p>
                    <h3>准备工作</h3>
                    <ul>
                        <li><strong>统一含义 (Agree on Meaning):</strong> 对关键术语达成共识。最典型的例子就是“完成”(Done) 的定义。在承诺前，花时间讨论并明确“当我们说‘完成’时，具体指什么？”</li>
                        <li><strong>使用“可行骨架” (Walking Skeleton):</strong> 先构建一个最简单的、但能端到端运行的系统版本。这个“骨架”为后续的增量式承诺提供了一个坚实的框架，让每个承诺都更小、更具体、更可靠。</li>
                    </ul>
                    <h3>承诺对话三步曲</h3>
                    <ol>
                        <li><strong>就承诺的含义达成一致。</strong></li>
                        <li><strong>就下一步要承诺的成果达成一致。</strong></li>
                        <li><strong>公开重申该承诺。</strong></li>
                    </ol>
                    <div class="opinion">
                        <strong>观点：</strong> 如果团队仍处于“遵从”文化中，直接进行承诺对话是无效的。必须先建立信任、安全感和共同目标。
                    </div>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header">
                <h2>问责对话 (The Accountability Conversation)</h2>
                <span class="icon">+</span>
            </div>
            <div class="accordion-content">
                <div class="content-inner">
                    <p><strong>目标：</strong> 建立一种文化，让每个人都有义务对自己行为和结果进行说明（Render an Account）。这里的“问责”是关于学习和透明，而不是惩罚。</p>
                    <h3>准备工作</h3>
                    <ul>
                        <li><strong>采纳 Y 理论 (Theory Y):</strong> 相信员工是自我驱动、寻求责任并富有创造力的（Y理论），而不是懒惰、需要被监督的（X理论）。问责文化只能在 Y 理论的土壤中生长。</li>
                        <li><strong>使用“定向机会主义” (Directed Opportunism):</strong> 一种高效的授权和对齐方法。
                            <ul>
                                <li><strong>简报 (Briefing):</strong> 上级清晰地传达<strong>目标、约束和自由度</strong>。</li>
                                <li><strong>回报 (Back-briefing):</strong> 下级回复他们打算<strong>如何</strong>行动，并确认他们对简报的理解是正确的。</li>
                            </ul>
                        </li>
                    </ul>
                    <h3>核心技巧：辐射意图 (Radiate Intent)</h3>
                    <p>持续、广泛地沟通你的意图，让相关方都能了解情况、提供帮助或及时纠正偏差。辐射的内容包括：</p>
                    <div class="fact">
                        <strong>辐射内容清单：</strong><br>
                        1. <strong>当前状态：</strong>我们正在做什么，以及进展如何。<br>
                        2. <strong>计划和预期成果：</strong>我们下一步打算做什么，期望达到什么效果。<br>
                        3. <strong>潜在障碍：</strong>我们预见到哪些风险或困难。
                    </div>
                    <p>可以利用敏捷仪式（计划会、站会、评审会、回顾会）和信息辐射体（看板、仪表盘）来自然地进行问责对话。</p>
                </div>
            </div>
        </div>
        
        <div class="accordion-item">
            <div class="accordion-header">
                <h2>综合总结</h2>
                <span class="icon">+</span>
            </div>
            <div class="accordion-content">
                <div class="content-inner">
                     <div class="summary-box">
                        <h3>融会贯通</h3>
                        <p>《敏捷对话》的核心逻辑是一个层层递进的框架，旨在通过改变最基础的沟通方式来重塑团队乃至整个组织的文化。它指出，任何敏捷、精益或 DevOps 的成功都必须建立在高质量的人际互动之上。</p>
                        <p>这个旅程始于<strong>自我觉察</strong>，通过<strong>“四个R”和“双栏分析”</strong>等工具，让我们看清自己言行与内心的差距。然后，按照特定的顺序展开五种关键对话：</p>
                        <ol>
                            <li><strong>信任</strong>是基石，通过<strong>“对齐故事”</strong>建立共同的预期。</li>
                            <li>在此基础上，我们才能安全地进行<strong>恐惧</strong>对话，创造<strong>“心理安全”</strong>。</li>
                            <li>有了安全感，团队才能开放地<strong>共同设计</strong>一个激励人心的<strong>“为何”</strong>。</li>
                            <li>有了共同目标，<strong>承诺</strong>才不再是空洞的遵从，而是可靠的执行力。</li>
                            <li>最后，<strong>问责</strong>对话形成了一个持续学习和校准的闭环，确保团队在自主的同时与组织目标保持一致。</li>
                        </ol>
                        <p><strong>最终，这本书告诉我们，转型不是一个项目，而是一种持续的练习。最强大的工具不是看板或软件，而是我们每天都在进行却常常忽略的——对话。</strong></p>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const accordionItems = document.querySelectorAll('.accordion-item');

    accordionItems.forEach(item => {
        const header = item.querySelector('.accordion-header');
        header.addEventListener('click', () => {
            const isActive = item.classList.contains('active');
            
            // Close all items
            accordionItems.forEach(otherItem => {
                otherItem.classList.remove('active');
            });

            // If it wasn't active, open it
            if (!isActive) {
                item.classList.add('active');
            }
        });
    });
    
    // Automatically open the first item for better initial experience
    if (accordionItems.length > 0) {
        accordionItems[0].classList.add('active');
    }
});
</script>


<div class="attachments-panel" id="attachments-panel">
    <h3>原文</h3>
    <a href="book_agile_conversation_files/book.html" target="_blank">源链接</a>
    <h3>附件</h3>
        <div class="attachment-item">
            <h4>中文epub <span class="file-size">(2.8M)</span></h4>
            <a href="book_agile_conversation_files/book.epub" class="download-btn" download>下载</a>
        </div>
</div>
<button class="float-toggle" id="float-toggle" title="打开附件面板">◁</button>
<script>
// 浮动框展开/收起功能
document.addEventListener('DOMContentLoaded', function() {
    const panel = document.getElementById('attachments-panel');
    const toggleBtn = document.getElementById('float-toggle');
    
    if (!panel || !toggleBtn) return;
    
    // 切换面板显示状态
    function togglePanel() {
        panel.classList.toggle('expanded');
        // 更新按钮图标
        const isExpanded = panel.classList.contains('expanded');
        toggleBtn.textContent = isExpanded ? '▷' : '◁';
        toggleBtn.title = isExpanded ? '关闭附件面板' : '打开附件面板';
        
        // 动态调整按钮位置
        if (isExpanded) {
            // 等待面板展开动画完成后调整按钮位置
            setTimeout(() => {
                const panelWidth = panel.offsetWidth;
                toggleBtn.style.right = (panelWidth + 30) + 'px';
            }, 300);
        } else {
            toggleBtn.style.right = '10px';
        }
    }
    
    // 点击切换按钮
    toggleBtn.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        togglePanel();
    });
    
    // 点击页面其他地方时收起面板
    document.addEventListener('click', function(e) {
        const isClickOnPanel = panel.contains(e.target);
        const isClickOnToggle = toggleBtn.contains(e.target);
        
        if (!isClickOnPanel && !isClickOnToggle) {
            panel.classList.remove('expanded');
            toggleBtn.textContent = '◁';
            toggleBtn.title = '打开附件面板';
            toggleBtn.style.right = '10px'; // 重置按钮位置
        }
    });
    
    // ESC键关闭面板
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && panel.classList.contains('expanded')) {
            panel.classList.remove('expanded');
            toggleBtn.textContent = '◁';
            toggleBtn.title = '打开附件面板';
            toggleBtn.style.right = '10px'; // 重置按钮位置
        }
    });
});
</script>
</body>
</html>